<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="An enterprise-class UI design language and React-based implementation">
    <meta name="description" content="A set of high-quality React components">
    <meta name="description" content="One of best React UI library for enterprise background">
    <title>App Design - An App Design Framework</title>
    <script>
    (function() {
      function isLocalStorageNameSupported() {
        var testKey = 'test';
        var storage = window.localStorage;
        try {
          storage.setItem(testKey, '1');
          storage.removeItem(testKey);
          return true;
        } catch (error) {
          return false;
        }
      }
      // 优先级提高到所有静态资源的前面，语言不对，加载其他静态资源没意义
      var pathname = location.pathname;

      function isZhCN(pathname) {
        return /-cn\/?$/.test(pathname);
      }
      function getLocalizedPathname(path, zhCN) {
        var pathname = path.startsWith('/') ? path : '/' + path;
        if (!zhCN) { // to enUS
          return /\/?index-cn/.test(pathname) ? '/' : pathname.replace('-cn', '');
        } else if (pathname === '/') {
          return '/index-cn';
        } else if (pathname.endsWith('/')) {
          return pathname.replace(/\/$/, '-cn/');
        }
        return pathname + '-cn';
      }

      // 兼容旧的 URL， `?locale=...`
      var queryString = location.search;
      if (queryString) {
        var isZhCNConfig = queryString.indexOf('zh-CN') > -1;
        if (isZhCNConfig && !isZhCN(pathname)) {
          location.pathname = getLocalizedPathname(pathname, isZhCNConfig)
        }
      }

      // 首页无视链接里面的语言设置 https://github.com/ant-design/ant-design/issues/4552
      if (isLocalStorageNameSupported() && (pathname === '/' || pathname === '/index-cn')) {
        var lang = (window.localStorage && localStorage.getItem('locale')) || (navigator.language.toLowerCase() === 'zh-cn' ? 'zh-CN' : 'en-US');
        // safari is 'zh-cn', while other browser is 'zh-CN';
        if ((lang === 'zh-CN') !== isZhCN(pathname)) {
          location.pathname = getLocalizedPathname(pathname, lang === 'zh-CN');
        }
      }
      document.documentElement.className += isZhCN(pathname) ? 'zh-cn' : 'en-us';
    })()
    </script>
    <link rel="icon" href="https://app-design.github.io/s/logo_102.png" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.cnpmjs.org/css?family=Lato:400,700|Raleway"/>
    <link rel="stylesheet" type="text/css" href="https://app-design.github.io/s/antd.css"/>
    <link rel="stylesheet" type="text/css" href="/index.css"/>
    <style id="nprogress-style">
      #nprogress { display: none }
    </style>
    <!--[if lte IE 10]>
      <script
        src="https://as.alipayobjects.com/g/component/??console-polyfill/0.2.2/index.js,media-match/2.0.2/media.match.min.js"></script>
    <![endif]-->
    <script>
    if (!window.Intl) {
      document.writeln('<script src="https://as.alipayobjects.com/g/component/intl/1.0.1/??Intl.js,locale-data/jsonp/en.js,locale-data/jsonp/zh.js">' + '<' + '/script>');
    }
    if (!window.Promise) {
      document.writeln('<script src="https://as.alipayobjects.com/g/component/es6-promise/3.2.2/es6-promise.min.js"' + '>' + '<' + '/' + 'script>');
    }
    // Enable Google Analytics
    if (!location.port) {
      /* eslint-disable */
      (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
          }, i[r].l = 1 * new Date();
        a = s.createElement(o),
          m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
      })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
      ga('create', 'UA-72788897-1', 'auto');
      ga('send', 'pageview');
      /* eslint-enable */
    }
    </script>
    <!-- Hotjar Tracking Code for ant.design -->
    <script>
    (function(h,o,t,j,a,r){
      h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
      h._hjSettings={hjid:473408,hjsv:5};
      a=o.getElementsByTagName('head')[0];
      r=o.createElement('script');r.async=1;
      r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
      a.appendChild(r);
    })(window,document,'//static.hotjar.com/c/hotjar-','.js?sv=');
    </script>
  </head>
  <body>
    <div id="react-content">
      <div class="page-wrapper" data-reactroot="" data-reactid="1" data-react-checksum="-1957844054"><header id="header" class="clearfix" data-reactid="2"><div class="ant-row" data-reactid="3"><div class="ant-col-xs-24 ant-col-sm-24 ant-col-md-5 ant-col-lg-4" data-reactid="4"><a id="logo" href="/" data-reactid="5"><img alt="logo" src="https://app-design.github.io/s/logo.svg" data-reactid="6"/><span data-reactid="7">App Design</span></a></div><div class="ant-col-xs-0 ant-col-sm-0 ant-col-md-19 ant-col-lg-20" data-reactid="8"><div id="search-box" data-reactid="9"><div class="ant-select ant-select-combobox ant-select-enabled" data-reactid="10"><div class="ant-select-selection
            ant-select-selection--single" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false" data-reactid="11"><div class="ant-select-selection__rendered" data-reactid="12"><div style="display:block;user-select:none;-webkit-user-select:none;" unselectable="unselectable" class="ant-select-selection__placeholder" data-reactid="13">Search Components...</div><ul data-reactid="14"><li class="ant-select-search ant-select-search--inline" data-reactid="15"><div class="ant-select-search__field__wrap" data-reactid="16"><input value="" class="ant-select-search__field" data-reactid="17"/><span class="ant-select-search__field__mirror" data-reactid="18"><!-- react-text: 19 --><!-- /react-text --><!-- react-text: 20 --> <!-- /react-text --></span></div></li></ul></div><span class="ant-select-arrow" style="user-select:none;-webkit-user-select:none;" unselectable="unselectable" data-reactid="21"><b data-reactid="22"></b></span></div></div></div><button type="button" class="ant-btn lang ant-btn-ghost ant-btn-sm" data-reactid="23"><span data-reactid="24">中文</span></button><div class="ant-select-sm version ant-select ant-select-enabled" data-reactid="25"><div class="ant-select-selection
            ant-select-selection--single" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false" tabindex="0" data-reactid="26"><div class="ant-select-selection__rendered" data-reactid="27"><div class="ant-select-selection-selected-value" title="0.1.0" style="display:block;opacity:1;" data-reactid="28">0.1.0</div></div><span class="ant-select-arrow" style="user-select:none;-webkit-user-select:none;" unselectable="unselectable" data-reactid="29"><b data-reactid="30"></b></span></div></div><ul class="ant-menu ant-menu-horizontal ant-menu-light ant-menu-root" role="menu" aria-activedescendant="" id="nav" tabindex="0" data-reactid="31"><li class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="32"><a href="/" data-reactid="33"><span data-reactid="34">Home</span></a></li><li class="ant-menu-item-selected ant-menu-item" role="menuitem" aria-selected="true" data-reactid="35"><a href="/docs/spec/introduce" data-reactid="36"><span data-reactid="37">Guidlines</span></a></li><li class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="38"><a href="/docs/react/introduce" data-reactid="39"><span data-reactid="40">Components</span></a></li><li class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="41"><a href="/docs/pattern/navigation" data-reactid="42"><span data-reactid="43">Patterns</span></a></li><li class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="44"><a href="/docs/contribution/00-git-guide" data-reactid="45"><span data-reactid="46">Contribute</span></a></li><li class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="47"><a href="/docs/resource/download" data-reactid="48"><span data-reactid="49">Resources</span></a></li></ul></div></div></header><div class="main-wrapper" data-reactid="50"><div class="ant-row" data-reactid="51"><div class="ant-col-xs-24 ant-col-sm-24 ant-col-md-6 ant-col-lg-4" data-reactid="52"><ul class="ant-menu ant-menu-inline aside-container ant-menu-light ant-menu-root" role="menu" aria-activedescendant="" tabindex="0" data-reactid="53"><li style="padding-left:24px;" class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="54"><a href="/docs/spec/introduce" data-reactid="55">App Design</a></li><li style="padding-left:24px;" class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="56"><a href="/docs/spec/cases" data-reactid="57">Cases</a></li><li class="ant-menu-submenu-inline ant-menu-submenu-open ant-menu-submenu" data-reactid="58"><div style="padding-left:24px;" class="ant-menu-submenu-title" aria-expanded="true" aria-owns="设计指引$Menu" aria-haspopup="true" data-reactid="59"><h4 data-reactid="60">设计指引</h4></div><ul class="ant-menu ant-menu-inline  ant-menu-sub" role="menu" aria-activedescendant="" id="设计指引$Menu" data-reactid="61"><li style="padding-left:48px;" class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="62"><a href="/docs/spec/00-principle" data-reactid="63">principle</a></li><li style="padding-left:48px;" class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="64"><a href="/docs/spec/01-template" data-reactid="65">template</a></li><li style="padding-left:48px;" class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="66"><a href="/docs/spec/02-splash" data-reactid="67">Splash</a></li><li style="padding-left:48px;" class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="68"><a href="/docs/spec/03-guide" data-reactid="69">Guide</a></li><li style="padding-left:48px;" class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="70"><a href="/docs/spec/04-login" data-reactid="71">Login</a></li><li style="padding-left:48px;" class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="72"><a href="/docs/spec/05-navigation" data-reactid="73">Navigation</a></li><li style="padding-left:48px;" class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="74"><a href="/docs/spec/06-homepage" data-reactid="75">Home Page</a></li><li style="padding-left:48px;" class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="76"><a href="/docs/spec/07-listview" data-reactid="77">Home Page</a></li><li style="padding-left:48px;" class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="78"><a href="/docs/spec/08-detail" data-reactid="79">Detail Page</a></li><li style="padding-left:48px;" class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="80"><a href="/docs/spec/09-about" data-reactid="81">About Page</a></li><li style="padding-left:48px;" class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="82"><a href="/docs/spec/10-network" data-reactid="83">Network</a></li><li style="padding-left:48px;" class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="84"><a href="/docs/spec/11-security" data-reactid="85">Security</a></li><li style="padding-left:48px;" class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="86"><a href="/docs/spec/12-upgrade" data-reactid="87">Upgrade</a></li><li style="padding-left:48px;" class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="88"><a href="/docs/spec/13-push" data-reactid="89">Message Push</a></li></ul></li><li class="ant-menu-submenu-inline ant-menu-submenu-open ant-menu-submenu" data-reactid="90"><div style="padding-left:24px;" class="ant-menu-submenu-title" aria-expanded="true" aria-owns="开发规范$Menu" aria-haspopup="true" data-reactid="91"><h4 data-reactid="92">开发规范</h4></div><ul class="ant-menu ant-menu-inline  ant-menu-sub" role="menu" aria-activedescendant="" id="开发规范$Menu" data-reactid="93"><li style="padding-left:48px;" class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="94"><a href="/docs/spec/20-reactstyleguide" data-reactid="95">React/JSX Style Guide</a></li><li style="padding-left:48px;" class="ant-menu-item-selected ant-menu-item" role="menuitem" aria-selected="true" data-reactid="96"><a href="/docs/spec/21-es6styleguide" data-reactid="97">ES6/ES2015 Style Guide</a></li></ul></li><li class="ant-menu-submenu-inline ant-menu-submenu-open ant-menu-submenu" data-reactid="98"><div style="padding-left:24px;" class="ant-menu-submenu-title" aria-expanded="true" aria-owns="目录3$Menu" aria-haspopup="true" data-reactid="99"><h4 data-reactid="100">目录3</h4></div><ul class="ant-menu ant-menu-inline  ant-menu-sub" role="menu" aria-activedescendant="" id="目录3$Menu" data-reactid="101"><li style="padding-left:48px;" class="ant-menu-item" role="menuitem" aria-selected="false" data-reactid="102"><a href="/docs/spec/c00-test2" data-reactid="103">dddd2333</a></li></ul></li></ul></div><div class="main-container ant-col-xs-24 ant-col-sm-24 ant-col-md-18 ant-col-lg-20" data-reactid="104"><div class="ant-row" data-reactid="105"><div class="ant-col-20" data-reactid="106"><article class="markdown" data-reactid="107"><h1 data-reactid="108"><!-- react-text: 109 -->ES6/ES2015 Style Guide<!-- /react-text --><a class="edit-button" href="https://github.com/ant-design/ant-design/edit/master/docs/spec/21-es6styleguide.md" data-reactid="110"><i class="anticon anticon-edit" data-reactid="111"></i></a></h1><section class="markdown" data-reactid="112"><h2 id="类型" data-reactid="113"><span data-reactid="114"><!-- react-text: 115 -->类型<!-- /react-text --></span><a href="#类型" class="anchor" data-reactid="116">#</a></h2><ul data-reactid="117"><li data-reactid="118"><p data-reactid="119"><a href="#1.1" data-reactid="120"><!-- react-text: 121 -->1.1<!-- /react-text --></a><!-- react-text: 122 -->  <!-- /react-text --><strong data-reactid="123"><!-- react-text: 124 -->基本类型<!-- /react-text --></strong><!-- react-text: 125 -->: 直接存取基本类型。<!-- /react-text --></p><ul data-reactid="126"><li data-reactid="127"><p data-reactid="128"><code data-reactid="129"><!-- react-text: 130 -->字符串<!-- /react-text --></code></p></li><li data-reactid="131"><p data-reactid="132"><code data-reactid="133"><!-- react-text: 134 -->数值<!-- /react-text --></code></p></li><li data-reactid="135"><p data-reactid="136"><code data-reactid="137"><!-- react-text: 138 -->布尔类型<!-- /react-text --></code></p></li><li data-reactid="139"><p data-reactid="140"><code data-reactid="141"><!-- react-text: 142 -->null<!-- /react-text --></code></p></li><li data-reactid="143"><p data-reactid="144"><code data-reactid="145"><!-- react-text: 146 -->undefined<!-- /react-text --></code></p></li></ul><pre class="language-javascript" data-reactid="147"><code data-reactid="148"><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bar <span class="token operator">=</span> foo<span class="token punctuation">;</span>

bar <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => 1, 9</span></code></pre></li><li data-reactid="149"><p data-reactid="150"><a href="#1.2" data-reactid="151"><!-- react-text: 152 -->1.2<!-- /react-text --></a><!-- react-text: 153 -->  <!-- /react-text --><strong data-reactid="154"><!-- react-text: 155 -->复杂类型<!-- /react-text --></strong><!-- react-text: 156 -->: 通过引用的方式存取复杂类型。<!-- /react-text --></p><ul data-reactid="157"><li data-reactid="158"><p data-reactid="159"><code data-reactid="160"><!-- react-text: 161 -->对象<!-- /react-text --></code></p></li><li data-reactid="162"><p data-reactid="163"><code data-reactid="164"><!-- react-text: 165 -->数组<!-- /react-text --></code></p></li><li data-reactid="166"><p data-reactid="167"><code data-reactid="168"><!-- react-text: 169 -->函数<!-- /react-text --></code></p></li></ul><pre class="language-javascript" data-reactid="170"><code data-reactid="171"><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bar <span class="token operator">=</span> foo<span class="token punctuation">;</span>

bar<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> bar<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => 9, 9</span></code></pre></li></ul><h2 id="引用" data-reactid="172"><span data-reactid="173"><!-- react-text: 174 -->引用<!-- /react-text --></span><a href="#引用" class="anchor" data-reactid="175">#</a></h2><ul data-reactid="176"><li data-reactid="177"><p data-reactid="178"><a href="#2.1" data-reactid="179"><!-- react-text: 180 -->2.1<!-- /react-text --></a><!-- react-text: 181 -->  对所有的引用使用 <!-- /react-text --><code data-reactid="182"><!-- react-text: 183 -->const<!-- /react-text --></code><!-- react-text: 184 --> ；不要使用 <!-- /react-text --><code data-reactid="185"><!-- react-text: 186 -->var<!-- /react-text --></code><!-- react-text: 187 -->。<!-- /react-text --></p><blockquote data-reactid="188"><p data-reactid="189"><!-- react-text: 190 -->为什么？这能确保你无法对引用重新赋值，也不会导致出现 bug 或难以理解。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="191"><code data-reactid="192"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="193"><p data-reactid="194"><a href="#2.2" data-reactid="195"><!-- react-text: 196 -->2.2<!-- /react-text --></a><!-- react-text: 197 -->  如果你一定需要可变动的引用，使用 <!-- /react-text --><code data-reactid="198"><!-- react-text: 199 -->let<!-- /react-text --></code><!-- react-text: 200 --> 代替 <!-- /react-text --><code data-reactid="201"><!-- react-text: 202 -->var<!-- /react-text --></code><!-- react-text: 203 -->。<!-- /react-text --></p><blockquote data-reactid="204"><p data-reactid="205"><!-- react-text: 206 -->为什么？因为  <!-- /react-text --><code data-reactid="207"><!-- react-text: 208 -->let<!-- /react-text --></code><!-- react-text: 209 --> 是块级作用域，而 <!-- /react-text --><code data-reactid="210"><!-- react-text: 211 -->var<!-- /react-text --></code><!-- react-text: 212 --> 是函数作用域。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="213"><code data-reactid="214"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  count <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good, use the let.</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  count <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="215"><p data-reactid="216"><a href="#2.3" data-reactid="217"><!-- react-text: 218 -->2.3<!-- /react-text --></a><!-- react-text: 219 -->  注意 <!-- /react-text --><code data-reactid="220"><!-- react-text: 221 -->let<!-- /react-text --></code><!-- react-text: 222 --> 和 <!-- /react-text --><code data-reactid="223"><!-- react-text: 224 -->const<!-- /react-text --></code><!-- react-text: 225 --> 都是块级作用域。<!-- /react-text --></p><pre class="language-javascript" data-reactid="226"><code data-reactid="227"><span class="token comment" spellcheck="true">// const 和 let 只存在于它们被定义的区块内。</span>
<span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ReferenceError</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ReferenceError</span></code></pre></li></ul><h2 id="对象" data-reactid="228"><span data-reactid="229"><!-- react-text: 230 -->对象<!-- /react-text --></span><a href="#对象" class="anchor" data-reactid="231">#</a></h2><ul data-reactid="232"><li data-reactid="233"><p data-reactid="234"><a href="#3.1" data-reactid="235"><!-- react-text: 236 -->3.1<!-- /react-text --></a><!-- react-text: 237 -->  使用字面值创建对象。<!-- /react-text --></p><pre class="language-javascript" data-reactid="238"><code data-reactid="239"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> item <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="240"><p data-reactid="241"><a href="#3.2" data-reactid="242"><!-- react-text: 243 -->3.2<!-- /react-text --></a><!-- react-text: 244 -->  如果你的代码在浏览器环境下执行，别使用 <!-- /react-text --><a href="http://es5.github.io/#x7.6.1" data-reactid="245">保留字</a><!-- react-text: 246 --> 作为键值。这样的话在 IE8 不会运行。 <!-- /react-text --><a href="https://github.com/airbnb/javascript/issues/61" data-reactid="247">更多信息</a><!-- react-text: 248 -->。 但在 ES6 模块和服务器端中使用没有问题。<!-- /react-text --></p><pre class="language-javascript" data-reactid="249"><code data-reactid="250"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> superman <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> clark<span class="token punctuation">:</span> <span class="token string">'kent'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">private</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> superman <span class="token operator">=</span> <span class="token punctuation">{</span>
  defaults<span class="token punctuation">:</span> <span class="token punctuation">{</span> clark<span class="token punctuation">:</span> <span class="token string">'kent'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  hidden<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="251"><p data-reactid="252"><a href="#3.3" data-reactid="253"><!-- react-text: 254 -->3.3<!-- /react-text --></a><!-- react-text: 255 -->  使用同义词替换需要使用的保留字。<!-- /react-text --></p><pre class="language-javascript" data-reactid="256"><code data-reactid="257"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> superman <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">class</span><span class="token punctuation">:</span> <span class="token string">'alien'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> superman <span class="token operator">=</span> <span class="token punctuation">{</span>
  klass<span class="token punctuation">:</span> <span class="token string">'alien'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> superman <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token punctuation">:</span> <span class="token string">'alien'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="258"><p data-reactid="259"><a href="#3.4" data-reactid="260"><!-- react-text: 261 -->3.4<!-- /react-text --></a><!-- react-text: 262 -->  创建有动态属性名的对象时，使用可被计算的属性名称。<!-- /react-text --></p><blockquote data-reactid="263"><p data-reactid="264"><!-- react-text: 265 -->为什么？因为这样可以让你在一个地方定义所有的对象属性。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="266"><code data-reactid="267"><span class="token keyword">function</span> <span class="token function">getKey</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`a key named </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>k<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> <span class="token string">'San Francisco'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
obj<span class="token punctuation">[</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token string">'enabled'</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> <span class="token string">'San Francisco'</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token string">'enabled'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="268"><p data-reactid="269"><a href="#3.5" data-reactid="270"><!-- react-text: 271 -->3.5<!-- /react-text --></a><!-- react-text: 272 -->  使用对象方法的简写。<!-- /react-text --></p><pre class="language-javascript" data-reactid="273"><code data-reactid="274"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> atom <span class="token operator">=</span> <span class="token punctuation">{</span>
  value<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>

  addValue<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> atom<span class="token punctuation">.</span>value <span class="token operator">+</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> atom <span class="token operator">=</span> <span class="token punctuation">{</span>
  value<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>

  <span class="token function">addValue</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> atom<span class="token punctuation">.</span>value <span class="token operator">+</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="275"><p data-reactid="276"><a href="#3.6" data-reactid="277"><!-- react-text: 278 -->3.6<!-- /react-text --></a><!-- react-text: 279 -->  使用对象属性值的简写。<!-- /react-text --></p><blockquote data-reactid="280"><p data-reactid="281"><!-- react-text: 282 -->为什么？因为这样更短更有描述性。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="283"><code data-reactid="284"><span class="token keyword">const</span> lukeSkywalker <span class="token operator">=</span> <span class="token string">'Luke Skywalker'</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  lukeSkywalker<span class="token punctuation">:</span> lukeSkywalker<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  lukeSkywalker<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="285"><p data-reactid="286"><a href="#3.7" data-reactid="287"><!-- react-text: 288 -->3.7<!-- /react-text --></a><!-- react-text: 289 -->  在对象属性声明前把简写的属性分组。<!-- /react-text --></p><blockquote data-reactid="290"><p data-reactid="291"><!-- react-text: 292 -->为什么？因为这样能清楚地看出哪些属性使用了简写。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="293"><code data-reactid="294"><span class="token keyword">const</span> anakinSkywalker <span class="token operator">=</span> <span class="token string">'Anakin Skywalker'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> lukeSkywalker <span class="token operator">=</span> <span class="token string">'Luke Skywalker'</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  episodeOne<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  twoJedisWalkIntoACantina<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  lukeSkywalker<span class="token punctuation">,</span>
  episodeThree<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  mayTheFourth<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  anakinSkywalker<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  lukeSkywalker<span class="token punctuation">,</span>
  anakinSkywalker<span class="token punctuation">,</span>
  episodeOne<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  twoJedisWalkIntoACantina<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  episodeThree<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  mayTheFourth<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li></ul><h2 id="数组" data-reactid="295"><span data-reactid="296"><!-- react-text: 297 -->数组<!-- /react-text --></span><a href="#数组" class="anchor" data-reactid="298">#</a></h2><ul data-reactid="299"><li data-reactid="300"><p data-reactid="301"><a href="#4.1" data-reactid="302"><!-- react-text: 303 -->4.1<!-- /react-text --></a><!-- react-text: 304 -->  使用字面值创建数组。<!-- /react-text --></p><pre class="language-javascript" data-reactid="305"><code data-reactid="306"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="307"><p data-reactid="308"><a href="#4.2" data-reactid="309"><!-- react-text: 310 -->4.2<!-- /react-text --></a><!-- react-text: 311 -->  向数组添加元素时使用 Arrary#push 替代直接赋值。<!-- /react-text --></p><pre class="language-javascript" data-reactid="312"><code data-reactid="313"><span class="token keyword">const</span> someStack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></li></ul><pre class="language-null" data-reactid="314"><code data-reactid="315"><span class="token operator">/</span><span class="token operator">/</span> bad
someStack<span class="token punctuation">[</span>someStack<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'abracadabra'</span><span class="token comment" spellcheck="true">;</span>

<span class="token operator">/</span><span class="token operator">/</span> good
someStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'abracadabra'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
```</code></pre><ul data-reactid="316"><li data-reactid="317"><p data-reactid="318"><a href="#4.3" data-reactid="319"><!-- react-text: 320 -->4.3<!-- /react-text --></a><!-- react-text: 321 -->  使用拓展运算符 <!-- /react-text --><code data-reactid="322"><!-- react-text: 323 -->...<!-- /react-text --></code><!-- react-text: 324 --> 复制数组。<!-- /react-text --></p><pre class="language-javascript" data-reactid="325"><code data-reactid="326"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> len <span class="token operator">=</span> items<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token keyword">const</span> itemsCopy <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> i<span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  itemsCopy<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> itemsCopy <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>items<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="327"><p data-reactid="328"><a href="#4.4" data-reactid="329"><!-- react-text: 330 -->4.4<!-- /react-text --></a><!-- react-text: 331 -->  使用 Array#from 把一个类数组对象转换成数组。<!-- /react-text --></p><pre class="language-javascript" data-reactid="332"><code data-reactid="333"><span class="token keyword">const</span> foo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nodes <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><h2 id="解构" data-reactid="334"><span data-reactid="335"><!-- react-text: 336 -->解构<!-- /react-text --></span><a href="#解构" class="anchor" data-reactid="337">#</a></h2><ul data-reactid="338"><li data-reactid="339"><p data-reactid="340"><a href="#5.1" data-reactid="341"><!-- react-text: 342 -->5.1<!-- /react-text --></a><!-- react-text: 343 -->  使用解构存取和使用多属性对象。<!-- /react-text --></p><blockquote data-reactid="344"><p data-reactid="345"><!-- react-text: 346 -->为什么？因为解构能减少临时引用属性。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="347"><code data-reactid="348"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span> <span class="token function">getFullName</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> firstName <span class="token operator">=</span> user<span class="token punctuation">.</span>firstName<span class="token punctuation">;</span>
  <span class="token keyword">const</span> lastName <span class="token operator">=</span> user<span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lastName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">function</span> <span class="token function">getFullName</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> firstName<span class="token punctuation">,</span> lastName <span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lastName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// best</span>
<span class="token keyword">function</span> <span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token punctuation">{</span> firstName<span class="token punctuation">,</span> lastName <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lastName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="349"><p data-reactid="350"><a href="#5.2" data-reactid="351"><!-- react-text: 352 -->5.2<!-- /react-text --></a><!-- react-text: 353 -->  对数组使用解构赋值。<!-- /react-text --></p><pre class="language-javascript" data-reactid="354"><code data-reactid="355"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> first <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> second <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span></code></pre></li><li data-reactid="356"><p data-reactid="357"><a href="#5.3" data-reactid="358"><!-- react-text: 359 -->5.3<!-- /react-text --></a><!-- react-text: 360 -->  需要回传多个值时，使用对象解构，而不是数组解构。<!-- /react-text --></p><blockquote data-reactid="361"><p data-reactid="362"><!-- react-text: 363 -->为什么？增加属性或者改变排序不会改变调用时的位置。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="364"><code data-reactid="365"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span> <span class="token function">processInput</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// then a miracle occurs</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> top<span class="token punctuation">,</span> bottom<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// 调用时需要考虑回调数据的顺序。</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>left<span class="token punctuation">,</span> __<span class="token punctuation">,</span> top<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">processInput</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">function</span> <span class="token function">processInput</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// then a miracle occurs</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> top<span class="token punctuation">,</span> bottom <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// 调用时只选择需要的数据</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> left<span class="token punctuation">,</span> right <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">processInput</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><h2 id="Strings" data-reactid="366"><span data-reactid="367"><!-- react-text: 368 -->Strings<!-- /react-text --></span><a href="#Strings" class="anchor" data-reactid="369">#</a></h2><ul data-reactid="370"><li data-reactid="371"><p data-reactid="372"><a href="#6.1" data-reactid="373"><!-- react-text: 374 -->6.1<!-- /react-text --></a><!-- react-text: 375 --> 字符串使用单引号 <!-- /react-text --><code data-reactid="376"><!-- react-text: 377 -->&#x27;&#x27;<!-- /react-text --></code><!-- react-text: 378 --> 。<!-- /react-text --></p><pre class="language-javascript" data-reactid="379"><code data-reactid="380"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">"Capt. Janeway"</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'Capt. Janeway'</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="381"><p data-reactid="382"><a href="#6.2" data-reactid="383"><!-- react-text: 384 -->6.2<!-- /react-text --></a><!-- react-text: 385 --> 字符串超过 80 个字节应该使用字符串连接号换行。<!-- /react-text --></p></li><li data-reactid="386"><p data-reactid="387"><a href="#6.3" data-reactid="388"><!-- react-text: 389 -->6.3<!-- /react-text --></a><!-- react-text: 390 --> 注：过度使用字串连接符号可能会对性能造成影响。<!-- /react-text --><a href="http://jsperf.com/ya-string-concat" data-reactid="391">jsPerf</a><!-- react-text: 392 --> 和 <!-- /react-text --><a href="https://github.com/airbnb/javascript/issues/40" data-reactid="393">讨论</a><!-- react-text: 394 -->.<!-- /react-text --></p><pre class="language-javascript" data-reactid="395"><code data-reactid="396"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> errorMessage <span class="token operator">=</span> <span class="token string">'This is a super long error that was thrown because of Batman. When you stop to think about how Batman had anything to do with this, you would get nowhere fast.'</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> errorMessage <span class="token operator">=</span> <span class="token string">'This is a super long error that was thrown because \
of Batman. When you stop to think about how Batman had anything to do \
with this, you would get nowhere \
fast.'</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> errorMessage <span class="token operator">=</span> <span class="token string">'This is a super long error that was thrown because '</span> <span class="token operator">+</span>
  <span class="token string">'of Batman. When you stop to think about how Batman had anything to do '</span> <span class="token operator">+</span>
  <span class="token string">'with this, you would get nowhere fast.'</span><span class="token punctuation">;</span></code></pre></li></ul><ul data-reactid="397"><li data-reactid="398"><p data-reactid="399"><a href="#6.4" data-reactid="400"><!-- react-text: 401 -->6.4<!-- /react-text --></a><!-- react-text: 402 --> 程序化生成字符串时，使用模板字符串代替字符串连接。<!-- /react-text --></p><blockquote data-reactid="403"><p data-reactid="404"><!-- react-text: 405 -->为什么？模板字符串更为简洁，更具可读性。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="406"><code data-reactid="407"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'How are you, '</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'?'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">'How are you, '</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token string">'?'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`How are you, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">?`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></li></ul><h2 id="函数" data-reactid="408"><span data-reactid="409"><!-- react-text: 410 -->函数<!-- /react-text --></span><a href="#函数" class="anchor" data-reactid="411">#</a></h2><ul data-reactid="412"><li data-reactid="413"><p data-reactid="414"><a href="#7.1" data-reactid="415"><!-- react-text: 416 -->7.1<!-- /react-text --></a><!-- react-text: 417 --> 使用函数声明代替函数表达式。<!-- /react-text --></p><blockquote data-reactid="418"><p data-reactid="419"><!-- react-text: 420 -->为什么？因为函数声明是可命名的，所以他们在调用栈中更容易被识别。此外，函数声明会把整个函数提升（hoisted），而函数表达式只会把函数的引用变量名提升。这条规则使得<!-- /react-text --><a href="#arrow-functions" data-reactid="421"><!-- react-text: 422 -->箭头函数<!-- /react-text --></a><!-- react-text: 423 -->可以取代函数表达式。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="424"><code data-reactid="425"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="426"><p data-reactid="427"><a href="#7.2" data-reactid="428"><!-- react-text: 429 -->7.2<!-- /react-text --></a><!-- react-text: 430 --> 函数表达式:<!-- /react-text --></p><pre class="language-javascript" data-reactid="431"><code data-reactid="432"><span class="token comment" spellcheck="true">// 立即调用的函数表达式 (IIFE)</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Welcome to the Internet. Please follow me.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="433"><p data-reactid="434"><a href="#7.3" data-reactid="435"><!-- react-text: 436 -->7.3<!-- /react-text --></a><!-- react-text: 437 --> 永远不要在一个非函数代码块（<!-- /react-text --><code data-reactid="438"><!-- react-text: 439 -->if<!-- /react-text --></code><!-- react-text: 440 -->、<!-- /react-text --><code data-reactid="441"><!-- react-text: 442 -->while<!-- /react-text --></code><!-- react-text: 443 --> 等）中声明一个函数，把那个函数赋给一个变量。浏览器允许你这么做，但它们的解析表现不一致。<!-- /react-text --></p></li><li data-reactid="444"><p data-reactid="445"><a href="#7.4" data-reactid="446"><!-- react-text: 447 -->7.4<!-- /react-text --></a><!-- react-text: 448 --> <!-- /react-text --><strong data-reactid="449"><!-- react-text: 450 -->注意:<!-- /react-text --></strong><!-- react-text: 451 --> ECMA-262 把 <!-- /react-text --><code data-reactid="452"><!-- react-text: 453 -->block<!-- /react-text --></code><!-- react-text: 454 --> 定义为一组语句。函数声明不是语句。<!-- /react-text --><a href="http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf#page=97" data-reactid="455">阅读 ECMA-262 关于这个问题的说明</a><!-- react-text: 456 -->。<!-- /react-text --></p><pre class="language-javascript" data-reactid="457"><code data-reactid="458"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>currentUser<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Nope.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">let</span> test<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>currentUser<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  test <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Yup.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="459"><p data-reactid="460"><a href="#7.5" data-reactid="461"><!-- react-text: 462 -->7.5<!-- /react-text --></a><!-- react-text: 463 --> 永远不要把参数命名为 <!-- /react-text --><code data-reactid="464"><!-- react-text: 465 -->arguments<!-- /react-text --></code><!-- react-text: 466 -->。这将取代原来函数作用域内的 <!-- /react-text --><code data-reactid="467"><!-- react-text: 468 -->arguments<!-- /react-text --></code><!-- react-text: 469 --> 对象。<!-- /react-text --></p><pre class="language-javascript" data-reactid="470"><code data-reactid="471"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span> <span class="token function">nope</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> options<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...stuff...</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">function</span> <span class="token function">yup</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> options<span class="token punctuation">,</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...stuff...</span>
<span class="token punctuation">}</span></code></pre></li></ul><ul data-reactid="472"><li data-reactid="473"><p data-reactid="474"><a href="#7.6" data-reactid="475"><!-- react-text: 476 -->7.6<!-- /react-text --></a><!-- react-text: 477 --> 不要使用 <!-- /react-text --><code data-reactid="478"><!-- react-text: 479 -->arguments<!-- /react-text --></code><!-- react-text: 480 -->。可以选择 rest 语法 <!-- /react-text --><code data-reactid="481"><!-- react-text: 482 -->...<!-- /react-text --></code><!-- react-text: 483 --> 替代。<!-- /react-text --></p><blockquote data-reactid="484"><p data-reactid="485"><!-- react-text: 486 -->为什么？使用 <!-- /react-text --><code data-reactid="487"><!-- react-text: 488 -->...<!-- /react-text --></code><!-- react-text: 489 --> 能明确你要传入的参数。另外 rest 参数是一个真正的数组，而 <!-- /react-text --><code data-reactid="490"><!-- react-text: 491 -->arguments<!-- /react-text --></code><!-- react-text: 492 --> 是一个类数组。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="493"><code data-reactid="494"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span> <span class="token function">concatenateAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> args <span class="token operator">=</span> Array<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>slice<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">function</span> <span class="token function">concatenateAll</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="495"><p data-reactid="496"><a href="#7.7" data-reactid="497"><!-- react-text: 498 -->7.7<!-- /react-text --></a><!-- react-text: 499 --> 直接给函数的参数指定默认值，不要使用一个变化的函数参数。<!-- /react-text --></p><pre class="language-javascript" data-reactid="500"><code data-reactid="501"><span class="token comment" spellcheck="true">// really bad</span>
<span class="token keyword">function</span> <span class="token function">handleThings</span><span class="token punctuation">(</span>opts<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// 不！我们不应该改变函数参数。</span>
  <span class="token comment" spellcheck="true">// 更加糟糕: 如果参数 opts 是 false 的话，它就会被设定为一个对象。</span>
  <span class="token comment" spellcheck="true">// 但这样的写法会造成一些 Bugs。</span>
  <span class="token comment" spellcheck="true">//（译注：例如当 opts 被赋值为空字符串，opts 仍然会被下一行代码设定为一个空对象。）</span>
  opts <span class="token operator">=</span> opts <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// ...</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// still bad</span>
<span class="token keyword">function</span> <span class="token function">handleThings</span><span class="token punctuation">(</span>opts<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>opts <span class="token operator">===</span> <span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    opts <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// ...</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">function</span> <span class="token function">handleThings</span><span class="token punctuation">(</span>opts <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="502"><p data-reactid="503"><a href="#7.8" data-reactid="504"><!-- react-text: 505 -->7.8<!-- /react-text --></a><!-- react-text: 506 --> 直接给函数参数赋值时需要避免副作用。<!-- /react-text --></p><blockquote data-reactid="507"><p data-reactid="508"><!-- react-text: 509 -->为什么？因为这样的写法让人感到很困惑。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="510"><code data-reactid="511"><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span> <span class="token function">count</span><span class="token punctuation">(</span>a <span class="token operator">=</span> b<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 1</span>
<span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 2</span>
<span class="token function">count</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3</span>
<span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 3</span></code></pre></li></ul><h2 id="箭头函数" data-reactid="512"><span data-reactid="513"><!-- react-text: 514 -->箭头函数<!-- /react-text --></span><a href="#箭头函数" class="anchor" data-reactid="515">#</a></h2><ul data-reactid="516"><li data-reactid="517"><p data-reactid="518"><a href="#8.1" data-reactid="519"><!-- react-text: 520 -->8.1<!-- /react-text --></a><!-- react-text: 521 --> 当你必须使用函数表达式（或传递一个匿名函数）时，使用箭头函数符号。<!-- /react-text --></p><blockquote data-reactid="522"><p data-reactid="523"><!-- react-text: 524 -->为什么?因为箭头函数创造了新的一个 <!-- /react-text --><code data-reactid="525"><!-- react-text: 526 -->this<!-- /react-text --></code><!-- react-text: 527 --> 执行环境（译注：参考 <!-- /react-text --><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions" data-reactid="528">Arrow functions - JavaScript | MDN</a><!-- react-text: 529 --> 和 <!-- /react-text --><a href="http://toddmotto.com/es6-arrow-functions-syntaxes-and-lexical-scoping/" data-reactid="530">ES6 arrow functions, syntax and lexical scoping</a><!-- react-text: 531 -->），通常情况下都能满足你的需求，而且这样的写法更为简洁。<!-- /react-text --></p><p data-reactid="532"><!-- react-text: 533 -->为什么不？如果你有一个相当复杂的函数，你或许可以把逻辑部分转移到一个函数声明上。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="534"><code data-reactid="535"><span class="token comment" spellcheck="true">// bad</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="536"><p data-reactid="537"><a href="#8.2" data-reactid="538"><!-- react-text: 539 -->8.2<!-- /react-text --></a><!-- react-text: 540 --> 如果一个函数适合用一行写出并且只有一个参数，那就把花括号、圆括号和 <!-- /react-text --><code data-reactid="541"><!-- react-text: 542 -->return<!-- /react-text --></code><!-- react-text: 543 --> 都省略掉。如果不是，那就不要省略。<!-- /react-text --></p><blockquote data-reactid="544"><p data-reactid="545"><!-- react-text: 546 -->为什么？语法糖。在链式调用中可读性很高。<!-- /react-text --></p><p data-reactid="547"><!-- react-text: 548 -->为什么不？当你打算回传一个对象的时候。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="549"><code data-reactid="550"><span class="token comment" spellcheck="true">// good</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>x <span class="token operator">=</span><span class="token operator">></span> x <span class="token operator">*</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>total<span class="token punctuation">,</span> n<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> total <span class="token operator">+</span> n<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><h2 id="构造器" data-reactid="551"><span data-reactid="552"><!-- react-text: 553 -->构造器<!-- /react-text --></span><a href="#构造器" class="anchor" data-reactid="554">#</a></h2><ul data-reactid="555"><li data-reactid="556"><p data-reactid="557"><a href="#9.1" data-reactid="558"><!-- react-text: 559 -->9.1<!-- /react-text --></a><!-- react-text: 560 --> 总是使用 <!-- /react-text --><code data-reactid="561"><!-- react-text: 562 -->class<!-- /react-text --></code><!-- react-text: 563 -->。避免直接操作 <!-- /react-text --><code data-reactid="564"><!-- react-text: 565 -->prototype<!-- /react-text --></code><!-- react-text: 566 --> 。<!-- /react-text --></p><blockquote data-reactid="567"><p data-reactid="568"><!-- react-text: 569 -->为什么? 因为 <!-- /react-text --><code data-reactid="570"><!-- react-text: 571 -->class<!-- /react-text --></code><!-- react-text: 572 --> 语法更为简洁更易读。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="573"><code data-reactid="574"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span> <span class="token function">Queue</span><span class="token punctuation">(</span>contents <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>_queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>contents<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Queue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>pop <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_queue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>_queue<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></li></ul><pre class="language-null" data-reactid="575"><code data-reactid="576"><span class="token operator">/</span><span class="token operator">/</span> good
class Queue {
  <span class="token function">constructor</span><span class="token punctuation">(</span>contents <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> {
    this<span class="token punctuation">.</span>_queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>contents<span class="token punctuation">]</span><span class="token comment" spellcheck="true">;</span>
  }
  <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> {
    <span class="token keyword">const</span> value <span class="token operator">=</span> this<span class="token punctuation">.</span>_queue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true">;</span>
    this<span class="token punctuation">.</span>_queue<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
    return value<span class="token comment" spellcheck="true">;</span>
  }
}
```</code></pre><ul data-reactid="577"><li data-reactid="578"><p data-reactid="579"><a href="#9.2" data-reactid="580"><!-- react-text: 581 -->9.2<!-- /react-text --></a><!-- react-text: 582 --> 使用 <!-- /react-text --><code data-reactid="583"><!-- react-text: 584 -->extends<!-- /react-text --></code><!-- react-text: 585 --> 继承。<!-- /react-text --></p><blockquote data-reactid="586"><p data-reactid="587"><!-- react-text: 588 -->为什么？因为 <!-- /react-text --><code data-reactid="589"><!-- react-text: 590 -->extends<!-- /react-text --></code><!-- react-text: 591 --> 是一个内建的原型继承方法并且不会破坏 <!-- /react-text --><code data-reactid="592"><!-- react-text: 593 -->instanceof<!-- /react-text --></code><!-- react-text: 594 -->。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="595"><code data-reactid="596"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> inherits <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'inherits'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">PeekableQueue</span><span class="token punctuation">(</span>contents<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Queue<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> contents<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">inherits</span><span class="token punctuation">(</span>PeekableQueue<span class="token punctuation">,</span> Queue<span class="token punctuation">)</span><span class="token punctuation">;</span>
PeekableQueue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>peek <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_queue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">class</span> <span class="token class-name">PeekableQueue</span> <span class="token keyword">extends</span> <span class="token class-name">Queue</span> <span class="token punctuation">{</span>
  <span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_queue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="597"><p data-reactid="598"><a href="#9.3" data-reactid="599"><!-- react-text: 600 -->9.3<!-- /react-text --></a><!-- react-text: 601 --> 方法可以返回 <!-- /react-text --><code data-reactid="602"><!-- react-text: 603 -->this<!-- /react-text --></code><!-- react-text: 604 --> 来帮助链式调用。<!-- /react-text --></p><pre class="language-javascript" data-reactid="605"><code data-reactid="606"><span class="token comment" spellcheck="true">// bad</span>
Jedi<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>jump <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>jumping <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Jedi<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>setHeight <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> luke <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Jedi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
luke<span class="token punctuation">.</span><span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => true</span>
luke<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => undefined</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">class</span> <span class="token class-name">Jedi</span> <span class="token punctuation">{</span>
  <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>jumping <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">setHeight</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> luke <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Jedi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

luke<span class="token punctuation">.</span><span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><ul data-reactid="607"><li data-reactid="608"><p data-reactid="609"><a href="#9.4" data-reactid="610"><!-- react-text: 611 -->9.4<!-- /react-text --></a><!-- react-text: 612 --> 可以写一个自定义的 <!-- /react-text --><code data-reactid="613"><!-- react-text: 614 -->toString()<!-- /react-text --></code><!-- react-text: 615 --> 方法，但要确保它能正常运行并且不会引起副作用。<!-- /react-text --></p><pre class="language-javascript" data-reactid="616"><code data-reactid="617"><span class="token keyword">class</span> <span class="token class-name">Jedi</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> options<span class="token punctuation">.</span>name <span class="token operator">||</span> <span class="token string">'no name'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`Jedi - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></li></ul><h2 id="模块" data-reactid="618"><span data-reactid="619"><!-- react-text: 620 -->模块<!-- /react-text --></span><a href="#模块" class="anchor" data-reactid="621">#</a></h2><ul data-reactid="622"><li data-reactid="623"><p data-reactid="624"><a href="#10.1" data-reactid="625"><!-- react-text: 626 -->10.1<!-- /react-text --></a><!-- react-text: 627 --> 总是使用模组 (<!-- /react-text --><code data-reactid="628"><!-- react-text: 629 -->import<!-- /react-text --></code><!-- react-text: 630 -->/<!-- /react-text --><code data-reactid="631"><!-- react-text: 632 -->export<!-- /react-text --></code><!-- react-text: 633 -->) 而不是其他非标准模块系统。你可以编译为你喜欢的模块系统。<!-- /react-text --></p><blockquote data-reactid="634"><p data-reactid="635"><!-- react-text: 636 -->为什么？模块就是未来，让我们开始迈向未来吧。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="637"><code data-reactid="638"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> AirbnbStyleGuide <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./AirbnbStyleGuide'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> AirbnbStyleGuide<span class="token punctuation">.</span>es6<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// ok</span>
<span class="token keyword">import</span> AirbnbStyleGuide <span class="token keyword">from</span> <span class="token string">'./AirbnbStyleGuide'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> AirbnbStyleGuide<span class="token punctuation">.</span>es6<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// best</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> es6 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./AirbnbStyleGuide'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> es6<span class="token punctuation">;</span></code></pre></li><li data-reactid="639"><p data-reactid="640"><a href="#10.2" data-reactid="641"><!-- react-text: 642 -->10.2<!-- /react-text --></a><!-- react-text: 643 --> 不要使用通配符 import。<!-- /react-text --></p><blockquote data-reactid="644"><p data-reactid="645"><!-- react-text: 646 -->为什么？这样能确保你只有一个默认 export。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="647"><code data-reactid="648"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> AirbnbStyleGuide <span class="token keyword">from</span> <span class="token string">'./AirbnbStyleGuide'</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">import</span> AirbnbStyleGuide <span class="token keyword">from</span> <span class="token string">'./AirbnbStyleGuide'</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="649"><p data-reactid="650"><a href="#10.3" data-reactid="651"><!-- react-text: 652 -->10.3<!-- /react-text --></a><!-- react-text: 653 --> 不要从 import 中直接 export。<!-- /react-text --></p><blockquote data-reactid="654"><p data-reactid="655"><!-- react-text: 656 -->为什么？虽然一行代码简洁明了，但让 import 和 export 各司其职让事情能保持一致。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="657"><code data-reactid="658"><span class="token comment" spellcheck="true">// bad</span>
<span class="token comment" spellcheck="true">// filename es6.js</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> es6 <span class="token keyword">as</span> <span class="token keyword">default</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./airbnbStyleGuide'</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token comment" spellcheck="true">// filename es6.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> es6 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./AirbnbStyleGuide'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> es6<span class="token punctuation">;</span></code></pre></li></ul><h2 id="Iterators-and-Generators" data-reactid="659"><span data-reactid="660"><!-- react-text: 661 -->Iterators and Generators<!-- /react-text --></span><a href="#Iterators-and-Generators" class="anchor" data-reactid="662">#</a></h2><ul data-reactid="663"><li data-reactid="664"><p data-reactid="665"><a href="#11.1" data-reactid="666"><!-- react-text: 667 -->11.1<!-- /react-text --></a><!-- react-text: 668 --> 不要使用 iterators。使用高阶函数例如 <!-- /react-text --><code data-reactid="669"><!-- react-text: 670 -->map()<!-- /react-text --></code><!-- react-text: 671 --> 和 <!-- /react-text --><code data-reactid="672"><!-- react-text: 673 -->reduce()<!-- /react-text --></code><!-- react-text: 674 --> 替代 <!-- /react-text --><code data-reactid="675"><!-- react-text: 676 -->for-of<!-- /react-text --></code><!-- react-text: 677 -->。<!-- /react-text --></p><blockquote data-reactid="678"><p data-reactid="679"><!-- react-text: 680 -->为什么？这加强了我们不变的规则。处理纯函数的回调值更易读，这比它带来的副作用更重要。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="681"><code data-reactid="682"><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> num <span class="token keyword">of</span> numbers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  sum <span class="token operator">+</span><span class="token operator">=</span> num<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

sum <span class="token operator">===</span> <span class="token number">15</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
numbers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> sum <span class="token operator">+</span><span class="token operator">=</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>
sum <span class="token operator">===</span> <span class="token number">15</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// best (use the functional force)</span>
<span class="token keyword">const</span> sum <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>total<span class="token punctuation">,</span> num<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> total <span class="token operator">+</span> num<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sum <span class="token operator">===</span> <span class="token number">15</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="683"><p data-reactid="684"><a href="#11.2" data-reactid="685"><!-- react-text: 686 -->11.2<!-- /react-text --></a><!-- react-text: 687 --> 现在还不要使用 generators。<!-- /react-text --></p><blockquote data-reactid="688"><p data-reactid="689"><!-- react-text: 690 -->为什么？因为它们现在还没法很好地编译到 ES5。 (译者注：目前(2016/03) Chrome 和 Node.js 的稳定版本都已支持 generators)<!-- /react-text --></p></blockquote></li></ul><h2 id="属性" data-reactid="691"><span data-reactid="692"><!-- react-text: 693 -->属性<!-- /react-text --></span><a href="#属性" class="anchor" data-reactid="694">#</a></h2><ul data-reactid="695"><li data-reactid="696"><p data-reactid="697"><a href="#12.1" data-reactid="698"><!-- react-text: 699 -->12.1<!-- /react-text --></a><!-- react-text: 700 --> 使用 <!-- /react-text --><code data-reactid="701"><!-- react-text: 702 -->.<!-- /react-text --></code><!-- react-text: 703 --> 来访问对象的属性。<!-- /react-text --></p><pre class="language-javascript" data-reactid="704"><code data-reactid="705"><span class="token keyword">const</span> luke <span class="token operator">=</span> <span class="token punctuation">{</span>
  jedi<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">28</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> isJedi <span class="token operator">=</span> luke<span class="token punctuation">[</span><span class="token string">'jedi'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> isJedi <span class="token operator">=</span> luke<span class="token punctuation">.</span>jedi<span class="token punctuation">;</span></code></pre></li><li data-reactid="706"><p data-reactid="707"><a href="#12.2" data-reactid="708"><!-- react-text: 709 -->12.2<!-- /react-text --></a><!-- react-text: 710 --> 当通过变量访问属性时使用中括号 <!-- /react-text --><code data-reactid="711"><!-- react-text: 712 -->[]<!-- /react-text --></code><!-- react-text: 713 -->。<!-- /react-text --></p><pre class="language-javascript" data-reactid="714"><code data-reactid="715"><span class="token keyword">const</span> luke <span class="token operator">=</span> <span class="token punctuation">{</span>
  jedi<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">28</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getProp</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> luke<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> isJedi <span class="token operator">=</span> <span class="token function">getProp</span><span class="token punctuation">(</span><span class="token string">'jedi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><h2 id="变量" data-reactid="716"><span data-reactid="717"><!-- react-text: 718 -->变量<!-- /react-text --></span><a href="#变量" class="anchor" data-reactid="719">#</a></h2><ul data-reactid="720"><li data-reactid="721"><p data-reactid="722"><a href="#13.1" data-reactid="723"><!-- react-text: 724 -->13.1<!-- /react-text --></a><!-- react-text: 725 --> 一直使用 <!-- /react-text --><code data-reactid="726"><!-- react-text: 727 -->const<!-- /react-text --></code><!-- react-text: 728 --> 来声明变量，如果不这样做就会产生全局变量。我们需要避免全局命名空间的污染。<!-- /react-text --><a href="http://www.wikiwand.com/en/Captain_Planet" data-reactid="729">地球队长</a><!-- react-text: 730 -->已经警告过我们了。（译注：全局，global 亦有全球的意思。地球队长的责任是保卫地球环境，所以他警告我们不要造成「全球」污染。）<!-- /react-text --></p><pre class="language-javascript" data-reactid="731"><code data-reactid="732"><span class="token comment" spellcheck="true">// bad</span>
superPower <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SuperPower</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> superPower <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SuperPower</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="733"><p data-reactid="734"><a href="#13.2" data-reactid="735"><!-- react-text: 736 -->13.2<!-- /react-text --></a><!-- react-text: 737 --> 使用 <!-- /react-text --><code data-reactid="738"><!-- react-text: 739 -->const<!-- /react-text --></code><!-- react-text: 740 --> 声明每一个变量。<!-- /react-text --></p><blockquote data-reactid="741"><p data-reactid="742"><!-- react-text: 743 -->为什么？增加新变量将变的更加容易，而且你永远不用再担心调换错 <!-- /react-text --><code data-reactid="744"><!-- react-text: 745 -->;<!-- /react-text --></code><!-- react-text: 746 --> 跟 <!-- /react-text --><code data-reactid="747"><!-- react-text: 748 -->,<!-- /react-text --></code><!-- react-text: 749 -->。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="750"><code data-reactid="751"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token function">getItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    goSportsTeam <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    dragonball <span class="token operator">=</span> <span class="token string">'z'</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token comment" spellcheck="true">// (compare to above, and try to spot the mistake)</span>
<span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token function">getItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    goSportsTeam <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    dragonball <span class="token operator">=</span> <span class="token string">'z'</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token function">getItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> goSportsTeam <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> dragonball <span class="token operator">=</span> <span class="token string">'z'</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="752"><p data-reactid="753"><a href="#13.3" data-reactid="754"><!-- react-text: 755 -->13.3<!-- /react-text --></a><!-- react-text: 756 --> 将所有的 <!-- /react-text --><code data-reactid="757"><!-- react-text: 758 -->const<!-- /react-text --></code><!-- react-text: 759 --> 和 <!-- /react-text --><code data-reactid="760"><!-- react-text: 761 -->let<!-- /react-text --></code><!-- react-text: 762 --> 分组<!-- /react-text --></p><blockquote data-reactid="763"><p data-reactid="764"><!-- react-text: 765 -->为什么？当你需要把已赋值变量赋值给未赋值变量时非常有用。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="766"><code data-reactid="767"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">let</span> i<span class="token punctuation">,</span> len<span class="token punctuation">,</span> dragonball<span class="token punctuation">,</span>
    items <span class="token operator">=</span> <span class="token function">getItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    goSportsTeam <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">let</span> i<span class="token punctuation">;</span>
<span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token function">getItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> dragonball<span class="token punctuation">;</span>
<span class="token keyword">const</span> goSportsTeam <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> len<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> goSportsTeam <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token function">getItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> dragonball<span class="token punctuation">;</span>
<span class="token keyword">let</span> i<span class="token punctuation">;</span>
<span class="token keyword">let</span> length<span class="token punctuation">;</span></code></pre></li><li data-reactid="768"><p data-reactid="769"><a href="#13.4" data-reactid="770"><!-- react-text: 771 -->13.4<!-- /react-text --></a><!-- react-text: 772 --> 在你需要的地方给变量赋值，但请把它们放在一个合理的位置。<!-- /react-text --></p><blockquote data-reactid="773"><p data-reactid="774"><!-- react-text: 775 -->为什么？<!-- /react-text --><code data-reactid="776"><!-- react-text: 777 -->let<!-- /react-text --></code><!-- react-text: 778 --> 和 <!-- /react-text --><code data-reactid="779"><!-- react-text: 780 -->const<!-- /react-text --></code><!-- react-text: 781 --> 是块级作用域而不是函数作用域。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="782"><code data-reactid="783"><span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'doing stuff..'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">//..other stuff..</span>

  <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">===</span> <span class="token string">'test'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// bad - unnecessary function call</span>
<span class="token keyword">function</span><span class="token punctuation">(</span>hasName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hasName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setFirstName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">function</span><span class="token punctuation">(</span>hasName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hasName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setFirstName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></li></ul><h2 id="Hoisting" data-reactid="784"><span data-reactid="785"><!-- react-text: 786 -->Hoisting<!-- /react-text --></span><a href="#Hoisting" class="anchor" data-reactid="787">#</a></h2><ul data-reactid="788"><li data-reactid="789"><p data-reactid="790"><a href="#14.1" data-reactid="791"><!-- react-text: 792 -->14.1<!-- /react-text --></a><!-- react-text: 793 --> <!-- /react-text --><code data-reactid="794"><!-- react-text: 795 -->var<!-- /react-text --></code><!-- react-text: 796 --> 声明会被提升至该作用域的顶部，但它们赋值不会提升。<!-- /react-text --><code data-reactid="797"><!-- react-text: 798 -->let<!-- /react-text --></code><!-- react-text: 799 --> 和 <!-- /react-text --><code data-reactid="800"><!-- react-text: 801 -->const<!-- /react-text --></code><!-- react-text: 802 --> 被赋予了一种称为「<!-- /react-text --><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let#Temporal_dead_zone_and_errors_with_let" data-reactid="803">暂时性死区（Temporal Dead Zones, TDZ）</a><!-- react-text: 804 -->」的概念。这对于了解为什么 <!-- /react-text --><a href="http://es-discourse.com/t/why-typeof-is-no-longer-safe/15" data-reactid="805">type of 不再安全</a><!-- react-text: 806 -->相当重要。<!-- /react-text --></p><pre class="language-javascript" data-reactid="807"><code data-reactid="808"><span class="token comment" spellcheck="true">// 我们知道这样运行不了</span>
<span class="token comment" spellcheck="true">// （假设 notDefined 不是全局变量）</span>
<span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>notDefined<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => throws a ReferenceError</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// 由于变量提升的原因，</span>
<span class="token comment" spellcheck="true">// 在引用变量后再声明变量是可以运行的。</span>
<span class="token comment" spellcheck="true">// 注：变量的赋值 `true` 不会被提升。</span>
<span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>declaredButNotAssigned<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => undefined</span>
  <span class="token keyword">var</span> declaredButNotAssigned <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// 编译器会把函数声明提升到作用域的顶层，</span>
<span class="token comment" spellcheck="true">// 这意味着我们的例子可以改写成这样：</span>
<span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> declaredButNotAssigned<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>declaredButNotAssigned<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => undefined</span>
  declaredButNotAssigned <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// 使用 const 和 let</span>
<span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>declaredButNotAssigned<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => throws a ReferenceError</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> declaredButNotAssigned<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => throws a ReferenceError</span>
  <span class="token keyword">const</span> declaredButNotAssigned <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="809"><p data-reactid="810"><a href="#14.2" data-reactid="811"><!-- react-text: 812 -->14.2<!-- /react-text --></a><!-- react-text: 813 --> 匿名函数表达式的变量名会被提升，但函数内容并不会。<!-- /react-text --></p><pre class="language-javascript" data-reactid="814"><code data-reactid="815"><span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => undefined</span>

  <span class="token function">anonymous</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => TypeError anonymous is not a function</span>

  <span class="token keyword">var</span> anonymous <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'anonymous function expression'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="816"><p data-reactid="817"><a href="#14.3" data-reactid="818"><!-- react-text: 819 -->14.3<!-- /react-text --></a><!-- react-text: 820 --> 命名的函数表达式的变量名会被提升，但函数名和函数函数内容并不会。<!-- /react-text --></p><pre class="language-javascript" data-reactid="821"><code data-reactid="822"><span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>named<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => undefined</span>

  <span class="token function">named</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => TypeError named is not a function</span>

  <span class="token function">superPower</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => ReferenceError superPower is not defined</span>

  <span class="token keyword">var</span> named <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">superPower</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Flying'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// the same is true when the function name</span>
<span class="token comment" spellcheck="true">// is the same as the variable name.</span>
<span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>named<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => undefined</span>

  <span class="token function">named</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => TypeError named is not a function</span>

  <span class="token keyword">var</span> named <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">named</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'named'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="823"><p data-reactid="824"><a href="#14.4" data-reactid="825"><!-- react-text: 826 -->14.4<!-- /react-text --></a><!-- react-text: 827 --> 函数声明的名称和函数体都会被提升。<!-- /react-text --></p><pre class="language-javascript" data-reactid="828"><code data-reactid="829"><span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">superPower</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => Flying</span>

  <span class="token keyword">function</span> <span class="token function">superPower</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Flying'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="830"><p data-reactid="831"><!-- react-text: 832 -->想了解更多信息，参考 <!-- /react-text --><a href="http://www.adequatelygood.com/" data-reactid="833">Ben Cherry</a><!-- react-text: 834 --> 的 <!-- /react-text --><a href="http://www.adequatelygood.com/2010/2/JavaScript-Scoping-and-Hoisting" data-reactid="835">JavaScript Scoping &amp; Hoisting</a><!-- react-text: 836 -->。<!-- /react-text --></p></li></ul><h2 id="比较运算符和等号" data-reactid="837"><span data-reactid="838"><!-- react-text: 839 -->比较运算符和等号<!-- /react-text --></span><a href="#比较运算符和等号" class="anchor" data-reactid="840">#</a></h2><ul data-reactid="841"><li data-reactid="842"><p data-reactid="843"><a href="#15.1" data-reactid="844"><!-- react-text: 845 -->15.1<!-- /react-text --></a><!-- react-text: 846 --> 优先使用 <!-- /react-text --><code data-reactid="847"><!-- react-text: 848 -->===<!-- /react-text --></code><!-- react-text: 849 --> 和 <!-- /react-text --><code data-reactid="850"><!-- react-text: 851 -->!==<!-- /react-text --></code><!-- react-text: 852 --> 而不是 <!-- /react-text --><code data-reactid="853"><!-- react-text: 854 -->==<!-- /react-text --></code><!-- react-text: 855 --> 和 <!-- /react-text --><code data-reactid="856"><!-- react-text: 857 -->!=<!-- /react-text --></code><!-- react-text: 858 -->.<!-- /react-text --></p></li><li data-reactid="859"><p data-reactid="860"><a href="#15.2" data-reactid="861"><!-- react-text: 862 -->15.2<!-- /react-text --></a><!-- react-text: 863 --> 条件表达式例如 <!-- /react-text --><code data-reactid="864"><!-- react-text: 865 -->if<!-- /react-text --></code><!-- react-text: 866 --> 语句通过抽象方法 <!-- /react-text --><code data-reactid="867"><!-- react-text: 868 -->ToBoolean<!-- /react-text --></code><!-- react-text: 869 --> 强制计算它们的表达式并且总是遵守下面的规则：<!-- /react-text --></p><ul data-reactid="870"><li data-reactid="871"><p data-reactid="872"><strong data-reactid="873"><!-- react-text: 874 -->对象<!-- /react-text --></strong><!-- react-text: 875 --> 被计算为 <!-- /react-text --><strong data-reactid="876"><!-- react-text: 877 -->true<!-- /react-text --></strong></p></li><li data-reactid="878"><p data-reactid="879"><strong data-reactid="880"><!-- react-text: 881 -->Undefined<!-- /react-text --></strong><!-- react-text: 882 --> 被计算为 <!-- /react-text --><strong data-reactid="883"><!-- react-text: 884 -->false<!-- /react-text --></strong></p></li><li data-reactid="885"><p data-reactid="886"><strong data-reactid="887"><!-- react-text: 888 -->Null<!-- /react-text --></strong><!-- react-text: 889 --> 被计算为 <!-- /react-text --><strong data-reactid="890"><!-- react-text: 891 -->false<!-- /react-text --></strong></p></li><li data-reactid="892"><p data-reactid="893"><strong data-reactid="894"><!-- react-text: 895 -->布尔值<!-- /react-text --></strong><!-- react-text: 896 --> 被计算为 <!-- /react-text --><strong data-reactid="897"><!-- react-text: 898 -->布尔的值<!-- /react-text --></strong></p></li><li data-reactid="899"><p data-reactid="900"><strong data-reactid="901"><!-- react-text: 902 -->数字<!-- /react-text --></strong><!-- react-text: 903 --> 如果是 <!-- /react-text --><strong data-reactid="904"><!-- react-text: 905 -->+0、-0、或 NaN<!-- /react-text --></strong><!-- react-text: 906 --> 被计算为 <!-- /react-text --><strong data-reactid="907"><!-- react-text: 908 -->false<!-- /react-text --></strong><!-- react-text: 909 -->, 否则为 <!-- /react-text --><strong data-reactid="910"><!-- react-text: 911 -->true<!-- /react-text --></strong></p></li><li data-reactid="912"><p data-reactid="913"><strong data-reactid="914"><!-- react-text: 915 -->字符串<!-- /react-text --></strong><!-- react-text: 916 --> 如果是空字符串 <!-- /react-text --><code data-reactid="917"><!-- react-text: 918 -->&#x27;&#x27;<!-- /react-text --></code><!-- react-text: 919 --> 被计算为 <!-- /react-text --><strong data-reactid="920"><!-- react-text: 921 -->false<!-- /react-text --></strong><!-- react-text: 922 -->，否则为 <!-- /react-text --><strong data-reactid="923"><!-- react-text: 924 -->true<!-- /react-text --></strong></p></li></ul><pre class="language-javascript" data-reactid="925"><code data-reactid="926"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// true</span>
  <span class="token comment" spellcheck="true">// An array is an object, objects evaluate to true</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="927"><p data-reactid="928"><a href="#15.3" data-reactid="929"><!-- react-text: 930 -->15.3<!-- /react-text --></a><!-- react-text: 931 --> 使用简写。<!-- /react-text --></p><pre class="language-javascript" data-reactid="932"><code data-reactid="933"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">!==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...stuff...</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...stuff...</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>collection<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...stuff...</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>collection<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...stuff...</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="934"><p data-reactid="935"><a href="#15.4" data-reactid="936"><!-- react-text: 937 -->15.4<!-- /react-text --></a><!-- react-text: 938 --> 想了解更多信息，参考 Angus Croll 的 <!-- /react-text --><a href="http://javascriptweblog.wordpress.com/2011/02/07/truth-equality-and-javascript/#more-2108" data-reactid="939">Truth Equality and JavaScript</a><!-- react-text: 940 -->。<!-- /react-text --></p></li></ul><h2 id="代码块" data-reactid="941"><span data-reactid="942"><!-- react-text: 943 -->代码块<!-- /react-text --></span><a href="#代码块" class="anchor" data-reactid="944">#</a></h2><ul data-reactid="945"><li data-reactid="946"><p data-reactid="947"><a href="#16.1" data-reactid="948"><!-- react-text: 949 -->16.1<!-- /react-text --></a><!-- react-text: 950 --> 使用大括号包裹所有的多行代码块。<!-- /react-text --></p><pre class="language-javascript" data-reactid="951"><code data-reactid="952"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>test<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>test<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>test<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="953"><p data-reactid="954"><a href="#16.2" data-reactid="955"><!-- react-text: 956 -->16.2<!-- /react-text --></a><!-- react-text: 957 --> 如果通过 <!-- /react-text --><code data-reactid="958"><!-- react-text: 959 -->if<!-- /react-text --></code><!-- react-text: 960 --> 和 <!-- /react-text --><code data-reactid="961"><!-- react-text: 962 -->else<!-- /react-text --></code><!-- react-text: 963 --> 使用多行代码块，把 <!-- /react-text --><code data-reactid="964"><!-- react-text: 965 -->else<!-- /react-text --></code><!-- react-text: 966 --> 放在 <!-- /react-text --><code data-reactid="967"><!-- react-text: 968 -->if<!-- /react-text --></code><!-- react-text: 969 --> 代码块关闭括号的同一行。<!-- /react-text --></p><pre class="language-javascript" data-reactid="970"><code data-reactid="971"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>test<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">thing1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">thing2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token function">thing3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>test<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">thing1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">thing2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token function">thing3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></li></ul><h2 id="注释" data-reactid="972"><span data-reactid="973"><!-- react-text: 974 -->注释<!-- /react-text --></span><a href="#注释" class="anchor" data-reactid="975">#</a></h2><ul data-reactid="976"><li data-reactid="977"><p data-reactid="978"><a href="#17.1" data-reactid="979"><!-- react-text: 980 -->17.1<!-- /react-text --></a><!-- react-text: 981 --> 使用 <!-- /react-text --><code data-reactid="982"><!-- react-text: 983 -->/** ... */<!-- /react-text --></code><!-- react-text: 984 --> 作为多行注释。包含描述、指定所有参数和返回值的类型和值。<!-- /react-text --></p><pre class="language-javascript" data-reactid="985"><code data-reactid="986"><span class="token comment" spellcheck="true">// bad</span>
<span class="token comment" spellcheck="true">// make() returns a new element</span>
<span class="token comment" spellcheck="true">// based on the passed in tag name</span>
<span class="token comment" spellcheck="true">//</span>
<span class="token comment" spellcheck="true">// @param {String} tag</span>
<span class="token comment" spellcheck="true">// @return {Element} element</span>
<span class="token keyword">function</span> <span class="token function">make</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token comment" spellcheck="true">// ...stuff...</span>

  <span class="token keyword">return</span> element<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token comment" spellcheck="true">/**
 * make() returns a new element
 * based on the passed in tag name
 *
 * @param {String} tag
 * @return {Element} element
 */</span>
<span class="token keyword">function</span> <span class="token function">make</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token comment" spellcheck="true">// ...stuff...</span>

  <span class="token keyword">return</span> element<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="987"><p data-reactid="988"><a href="#17.2" data-reactid="989"><!-- react-text: 990 -->17.2<!-- /react-text --></a><!-- react-text: 991 --> 使用 <!-- /react-text --><code data-reactid="992"><!-- react-text: 993 -->//<!-- /react-text --></code><!-- react-text: 994 --> 作为单行注释。在评论对象上面另起一行使用单行注释。在注释前插入空行。<!-- /react-text --></p><pre class="language-javascript" data-reactid="995"><code data-reactid="996"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> active <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// is current tab</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token comment" spellcheck="true">// is current tab</span>
<span class="token keyword">const</span> active <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'fetching type...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// set the default type to 'no type'</span>
  <span class="token keyword">const</span> type <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_type <span class="token operator">||</span> <span class="token string">'no type'</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> type<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">function</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'fetching type...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// set the default type to 'no type'</span>
  <span class="token keyword">const</span> type <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_type <span class="token operator">||</span> <span class="token string">'no type'</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> type<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="997"><p data-reactid="998"><a href="#17.3" data-reactid="999"><!-- react-text: 1000 -->17.3<!-- /react-text --></a><!-- react-text: 1001 --> 给注释增加 <!-- /react-text --><code data-reactid="1002"><!-- react-text: 1003 -->FIXME<!-- /react-text --></code><!-- react-text: 1004 --> 或 <!-- /react-text --><code data-reactid="1005"><!-- react-text: 1006 -->TODO<!-- /react-text --></code><!-- react-text: 1007 --> 的前缀可以帮助其他开发者快速了解这是一个需要复查的问题，或是给需要实现的功能提供一个解决方式。这将有别于常见的注释，因为它们是可操作的。使用 <!-- /react-text --><code data-reactid="1008"><!-- react-text: 1009 -->FIXME -- need to figure this out<!-- /react-text --></code><!-- react-text: 1010 --> 或者 <!-- /react-text --><code data-reactid="1011"><!-- react-text: 1012 -->TODO -- need to implement<!-- /react-text --></code><!-- react-text: 1013 -->。<!-- /react-text --></p></li><li data-reactid="1014"><p data-reactid="1015"><a href="#17.4" data-reactid="1016"><!-- react-text: 1017 -->17.4<!-- /react-text --></a><!-- react-text: 1018 --> 使用 <!-- /react-text --><code data-reactid="1019"><!-- react-text: 1020 -->// FIXME<!-- /react-text --></code><!-- react-text: 1021 -->: 标注问题。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1022"><code data-reactid="1023"><span class="token keyword">class</span> <span class="token class-name">Calculator</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// FIXME: shouldn't use a global here</span>
    total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="1024"><p data-reactid="1025"><a href="#17.5" data-reactid="1026"><!-- react-text: 1027 -->17.5<!-- /react-text --></a><!-- react-text: 1028 --> 使用 <!-- /react-text --><code data-reactid="1029"><!-- react-text: 1030 -->// TODO<!-- /react-text --></code><!-- react-text: 1031 -->: 标注问题的解决方式。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1032"><code data-reactid="1033"><span class="token keyword">class</span> <span class="token class-name">Calculator</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// TODO: total should be configurable by an options param</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></li></ul><h2 id="空白" data-reactid="1034"><span data-reactid="1035"><!-- react-text: 1036 -->空白<!-- /react-text --></span><a href="#空白" class="anchor" data-reactid="1037">#</a></h2><ul data-reactid="1038"><li data-reactid="1039"><p data-reactid="1040"><a href="#18.1" data-reactid="1041"><!-- react-text: 1042 -->18.1<!-- /react-text --></a><!-- react-text: 1043 --> 使用 2 个空格作为缩进。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1044"><code data-reactid="1045"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
∙∙∙∙<span class="token keyword">const</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
∙<span class="token keyword">const</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
∙∙<span class="token keyword">const</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="1046"><p data-reactid="1047"><a href="#18.2" data-reactid="1048"><!-- react-text: 1049 -->18.2<!-- /react-text --></a><!-- react-text: 1050 --> 在花括号前放一个空格。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1051"><code data-reactid="1052"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// bad</span>
dog<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'attr'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
  age<span class="token punctuation">:</span> <span class="token string">'1 year'</span><span class="token punctuation">,</span>
  breed<span class="token punctuation">:</span> <span class="token string">'Bernese Mountain Dog'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
dog<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'attr'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  age<span class="token punctuation">:</span> <span class="token string">'1 year'</span><span class="token punctuation">,</span>
  breed<span class="token punctuation">:</span> <span class="token string">'Bernese Mountain Dog'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="1053"><p data-reactid="1054"><a href="#18.3" data-reactid="1055"><!-- react-text: 1056 -->18.3<!-- /react-text --></a><!-- react-text: 1057 --> 在控制语句（<!-- /react-text --><code data-reactid="1058"><!-- react-text: 1059 -->if<!-- /react-text --></code><!-- react-text: 1060 -->、<!-- /react-text --><code data-reactid="1061"><!-- react-text: 1062 -->while<!-- /react-text --></code><!-- react-text: 1063 --> 等）的小括号前放一个空格。在函数调用及声明中，不在函数的参数列表前加空格。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1064"><code data-reactid="1065"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>isJedi<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  fight <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>isJedi<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">fight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span> fight <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span>log <span class="token punctuation">(</span><span class="token string">'Swooosh!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">function</span> <span class="token function">fight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Swooosh!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="1066"><p data-reactid="1067"><a href="#18.4" data-reactid="1068"><!-- react-text: 1069 -->18.4<!-- /react-text --></a><!-- react-text: 1070 -->  使用空格把运算符隔开。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1071"><code data-reactid="1072"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> x<span class="token operator">=</span>y<span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> x <span class="token operator">=</span> y <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="1073"><p data-reactid="1074"><a href="#18.5" data-reactid="1075"><!-- react-text: 1076 -->18.5<!-- /react-text --></a><!-- react-text: 1077 -->  在文件末尾插入一个空行。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1078"><code data-reactid="1079"><span class="token comment" spellcheck="true">// bad</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>global<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...stuff...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-javascript" data-reactid="1080"><code data-reactid="1081"><span class="token comment" spellcheck="true">// bad</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>global<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...stuff...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>↵
↵</code></pre><pre class="language-javascript" data-reactid="1082"><code data-reactid="1083"><span class="token comment" spellcheck="true">// good</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>global<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...stuff...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>↵</code></pre></li><li data-reactid="1084"><p data-reactid="1085"><a href="#18.5" data-reactid="1086"><!-- react-text: 1087 -->18.5<!-- /react-text --></a><!-- react-text: 1088 -->  在使用长方法链时进行缩进。使用前面的点 <!-- /react-text --><code data-reactid="1089"><!-- react-text: 1090 -->.<!-- /react-text --></code><!-- react-text: 1091 --> 强调这是方法调用而不是新语句。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1092"><code data-reactid="1093"><span class="token comment" spellcheck="true">// bad</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#items'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.selected'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.open'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">updateCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#items'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
  <span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.selected'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
    <span class="token function">highlight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
    <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
  <span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.open'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
    <span class="token function">updateCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#items'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.selected'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.open'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">updateCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> leds <span class="token operator">=</span> stage<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">'.led'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">enter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'svg:svg'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">(</span><span class="token string">'led'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>radius <span class="token operator">+</span> margin<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'svg:g'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'transform'</span><span class="token punctuation">,</span> <span class="token string">'translate('</span> <span class="token operator">+</span> <span class="token punctuation">(</span>radius <span class="token operator">+</span> margin<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">','</span> <span class="token operator">+</span> <span class="token punctuation">(</span>radius <span class="token operator">+</span> margin<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>tron<span class="token punctuation">.</span>led<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> leds <span class="token operator">=</span> stage<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">'.led'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">enter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'svg:svg'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">classed</span><span class="token punctuation">(</span><span class="token string">'led'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>radius <span class="token operator">+</span> margin<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'svg:g'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'transform'</span><span class="token punctuation">,</span> <span class="token string">'translate('</span> <span class="token operator">+</span> <span class="token punctuation">(</span>radius <span class="token operator">+</span> margin<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">','</span> <span class="token operator">+</span> <span class="token punctuation">(</span>radius <span class="token operator">+</span> margin<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>tron<span class="token punctuation">.</span>led<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="1094"><p data-reactid="1095"><a href="#18.6" data-reactid="1096"><!-- react-text: 1097 -->18.6<!-- /react-text --></a><!-- react-text: 1098 -->  在块末和新语句前插入空行。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1099"><code data-reactid="1100"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> bar<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> baz<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> bar<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">return</span> baz<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> obj<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> obj<span class="token punctuation">;</span></code></pre></li></ul><h2 id="逗号" data-reactid="1101"><span data-reactid="1102"><!-- react-text: 1103 -->逗号<!-- /react-text --></span><a href="#逗号" class="anchor" data-reactid="1104">#</a></h2><ul data-reactid="1105"><li data-reactid="1106"><p data-reactid="1107"><a href="#19.1" data-reactid="1108"><!-- react-text: 1109 -->19.1<!-- /react-text --></a><!-- react-text: 1110 -->  行首逗号：<!-- /react-text --><strong data-reactid="1111"><!-- react-text: 1112 -->不需要<!-- /react-text --></strong><!-- react-text: 1113 -->。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1114"><code data-reactid="1115"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> story <span class="token operator">=</span> <span class="token punctuation">[</span>
    once
  <span class="token punctuation">,</span> upon
  <span class="token punctuation">,</span> aTime
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> story <span class="token operator">=</span> <span class="token punctuation">[</span>
  once<span class="token punctuation">,</span>
  upon<span class="token punctuation">,</span>
  aTime<span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> hero <span class="token operator">=</span> <span class="token punctuation">{</span>
    firstName<span class="token punctuation">:</span> <span class="token string">'Ada'</span>
  <span class="token punctuation">,</span> lastName<span class="token punctuation">:</span> <span class="token string">'Lovelace'</span>
  <span class="token punctuation">,</span> birthYear<span class="token punctuation">:</span> <span class="token number">1815</span>
  <span class="token punctuation">,</span> superPower<span class="token punctuation">:</span> <span class="token string">'computers'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> hero <span class="token operator">=</span> <span class="token punctuation">{</span>
  firstName<span class="token punctuation">:</span> <span class="token string">'Ada'</span><span class="token punctuation">,</span>
  lastName<span class="token punctuation">:</span> <span class="token string">'Lovelace'</span><span class="token punctuation">,</span>
  birthYear<span class="token punctuation">:</span> <span class="token number">1815</span><span class="token punctuation">,</span>
  superPower<span class="token punctuation">:</span> <span class="token string">'computers'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="1116"><p data-reactid="1117"><a href="#19.2" data-reactid="1118"><!-- react-text: 1119 -->19.2<!-- /react-text --></a><!-- react-text: 1120 -->  增加结尾的逗号: <!-- /react-text --><strong data-reactid="1121"><!-- react-text: 1122 -->需要<!-- /react-text --></strong><!-- react-text: 1123 -->。<!-- /react-text --></p><blockquote data-reactid="1124"><p data-reactid="1125"><!-- react-text: 1126 -->为什么? 这会让 git diffs 更干净。另外，像 babel 这样的转译器会移除结尾多余的逗号，也就是说你不必担心老旧浏览器的<!-- /react-text --><a href="es5/README.md#commas" data-reactid="1127">尾逗号问题</a><!-- react-text: 1128 -->。<!-- /react-text --></p></blockquote><pre class="language-javascript" data-reactid="1129"><code data-reactid="1130"><span class="token comment" spellcheck="true">// bad - git diff without trailing comma</span>
<span class="token keyword">const</span> hero <span class="token operator">=</span> <span class="token punctuation">{</span>
     firstName<span class="token punctuation">:</span> <span class="token string">'Florence'</span><span class="token punctuation">,</span>
<span class="token operator">-</span>    lastName<span class="token punctuation">:</span> <span class="token string">'Nightingale'</span>
<span class="token operator">+</span>    lastName<span class="token punctuation">:</span> <span class="token string">'Nightingale'</span><span class="token punctuation">,</span>
<span class="token operator">+</span>    inventorOf<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'coxcomb graph'</span><span class="token punctuation">,</span> <span class="token string">'modern nursing'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good - git diff with trailing comma</span>
<span class="token keyword">const</span> hero <span class="token operator">=</span> <span class="token punctuation">{</span>
     firstName<span class="token punctuation">:</span> <span class="token string">'Florence'</span><span class="token punctuation">,</span>
     lastName<span class="token punctuation">:</span> <span class="token string">'Nightingale'</span><span class="token punctuation">,</span>
<span class="token operator">+</span>    inventorOf<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'coxcomb chart'</span><span class="token punctuation">,</span> <span class="token string">'modern nursing'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> hero <span class="token operator">=</span> <span class="token punctuation">{</span>
  firstName<span class="token punctuation">:</span> <span class="token string">'Dana'</span><span class="token punctuation">,</span>
  lastName<span class="token punctuation">:</span> <span class="token string">'Scully'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> heroes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">'Batman'</span><span class="token punctuation">,</span>
  <span class="token string">'Superman'</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> hero <span class="token operator">=</span> <span class="token punctuation">{</span>
  firstName<span class="token punctuation">:</span> <span class="token string">'Dana'</span><span class="token punctuation">,</span>
  lastName<span class="token punctuation">:</span> <span class="token string">'Scully'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> heroes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">'Batman'</span><span class="token punctuation">,</span>
  <span class="token string">'Superman'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></li></ul><h2 id="分号" data-reactid="1131"><span data-reactid="1132"><!-- react-text: 1133 -->分号<!-- /react-text --></span><a href="#分号" class="anchor" data-reactid="1134">#</a></h2><ul data-reactid="1135"><li data-reactid="1136"><p data-reactid="1137"><a href="#20.1" data-reactid="1138"><!-- react-text: 1139 -->20.1<!-- /react-text --></a><!-- react-text: 1140 -->  <!-- /react-text --><strong data-reactid="1141"><!-- react-text: 1142 -->使用分号<!-- /react-text --></strong></p><pre class="language-javascript" data-reactid="1143"><code data-reactid="1144"><span class="token comment" spellcheck="true">// bad</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'Skywalker'</span>
  <span class="token keyword">return</span> name
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'Skywalker'</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good (防止函数在两个 IIFE 合并时被当成一个参数)</span>
<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'Skywalker'</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p data-reactid="1145"><a href="http://stackoverflow.com/a/7365214/1712802" data-reactid="1146">Read more</a><!-- react-text: 1147 -->.<!-- /react-text --></p></li></ul><h2 id="类型转换" data-reactid="1148"><span data-reactid="1149"><!-- react-text: 1150 -->类型转换<!-- /react-text --></span><a href="#类型转换" class="anchor" data-reactid="1151">#</a></h2><ul data-reactid="1152"><li data-reactid="1153"><p data-reactid="1154"><a href="#21.1" data-reactid="1155"><!-- react-text: 1156 -->21.1<!-- /react-text --></a><!-- react-text: 1157 -->  在语句开始时执行类型转换。<!-- /react-text --></p></li><li data-reactid="1158"><p data-reactid="1159"><a href="#21.2" data-reactid="1160"><!-- react-text: 1161 -->21.2<!-- /react-text --></a><!-- react-text: 1162 -->  字符串：<!-- /react-text --></p><pre class="language-javascript" data-reactid="1163"><code data-reactid="1164"><span class="token comment" spellcheck="true">//  => this.reviewScore = 9;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> totalScore <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>reviewScore <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> totalScore <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reviewScore<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="1165"><p data-reactid="1166"><a href="#21.3" data-reactid="1167"><!-- react-text: 1168 -->21.3<!-- /react-text --></a><!-- react-text: 1169 -->  对数字使用 <!-- /react-text --><code data-reactid="1170"><!-- react-text: 1171 -->parseInt<!-- /react-text --></code><!-- react-text: 1172 --> 转换，并带上类型转换的基数。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1173"><code data-reactid="1174"><span class="token keyword">const</span> inputValue <span class="token operator">=</span> <span class="token string">'4'</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> val <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span>inputValue<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> val <span class="token operator">=</span> <span class="token operator">+</span>inputValue<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> val <span class="token operator">=</span> inputValue <span class="token operator">></span><span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> val <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>inputValue<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> val <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>inputValue<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> val <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>inputValue<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="1175"><p data-reactid="1176"><a href="#21.4" data-reactid="1177"><!-- react-text: 1178 -->21.4<!-- /react-text --></a><!-- react-text: 1179 -->  如果因为某些原因 parseInt 成为你所做的事的瓶颈而需要使用位操作解决<!-- /react-text --><a href="http://jsperf.com/coercion-vs-casting/3" data-reactid="1180">性能问题</a><!-- react-text: 1181 -->时，留个注释说清楚原因和你的目的。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1182"><code data-reactid="1183"><span class="token comment" spellcheck="true">// good</span>
<span class="token comment" spellcheck="true">/**
 * 使用 parseInt 导致我的程序变慢，
 * 改成使用位操作转换数字快多了。
 */</span>
<span class="token keyword">const</span> val <span class="token operator">=</span> inputValue <span class="token operator">></span><span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="1184"><p data-reactid="1185"><a href="#21.5" data-reactid="1186"><!-- react-text: 1187 -->21.5<!-- /react-text --></a><!-- react-text: 1188 -->  <!-- /react-text --><strong data-reactid="1189"><!-- react-text: 1190 -->注:<!-- /react-text --></strong><!-- react-text: 1191 --> 小心使用位操作运算符。数字会被当成 <!-- /react-text --><a href="http://es5.github.io/#x4.3.19" data-reactid="1192">64 位值</a><!-- react-text: 1193 -->，但是位操作运算符总是返回 32 位的整数（<!-- /react-text --><a href="http://es5.github.io/#x11.7" data-reactid="1194">参考</a><!-- react-text: 1195 -->）。位操作处理大于 32 位的整数值时还会导致意料之外的行为。<!-- /react-text --><a href="https://github.com/airbnb/javascript/issues/109" data-reactid="1196">关于这个问题的讨论</a><!-- react-text: 1197 -->。最大的 32 位整数是 2,147,483,647：<!-- /react-text --></p><pre class="language-javascript" data-reactid="1198"><code data-reactid="1199"><span class="token number">2147483647</span> <span class="token operator">></span><span class="token operator">></span> <span class="token number">0</span> <span class="token comment" spellcheck="true">//=> 2147483647</span>
<span class="token number">2147483648</span> <span class="token operator">></span><span class="token operator">></span> <span class="token number">0</span> <span class="token comment" spellcheck="true">//=> -2147483648</span>
<span class="token number">2147483649</span> <span class="token operator">></span><span class="token operator">></span> <span class="token number">0</span> <span class="token comment" spellcheck="true">//=> -2147483647</span></code></pre></li><li data-reactid="1200"><p data-reactid="1201"><a href="#21.6" data-reactid="1202"><!-- react-text: 1203 -->21.6<!-- /react-text --></a><!-- react-text: 1204 -->  布尔:<!-- /react-text --></p><pre class="language-javascript" data-reactid="1205"><code data-reactid="1206"><span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> hasAge <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> hasAge <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> hasAge <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>age<span class="token punctuation">;</span></code></pre></li></ul><h2 id="命名规则" data-reactid="1207"><span data-reactid="1208"><!-- react-text: 1209 -->命名规则<!-- /react-text --></span><a href="#命名规则" class="anchor" data-reactid="1210">#</a></h2><ul data-reactid="1211"><li data-reactid="1212"><p data-reactid="1213"><a href="#22.1" data-reactid="1214"><!-- react-text: 1215 -->22.1<!-- /react-text --></a><!-- react-text: 1216 -->  避免单字母命名。命名应具备描述性。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1217"><code data-reactid="1218"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span> <span class="token function">q</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...stuff...</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">function</span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ..stuff..</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="1219"><p data-reactid="1220"><a href="#22.2" data-reactid="1221"><!-- react-text: 1222 -->22.2<!-- /react-text --></a><!-- react-text: 1223 -->  使用驼峰式命名对象、函数和实例。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1224"><code data-reactid="1225"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> OBJEcttsssss <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> this_is_my_object <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> thisIsMyObject <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">thisIsMyFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre></li><li data-reactid="1226"><p data-reactid="1227"><a href="#22.3" data-reactid="1228"><!-- react-text: 1229 -->22.3<!-- /react-text --></a><!-- react-text: 1230 -->  使用帕斯卡式命名构造函数或类。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1231"><code data-reactid="1232"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span> <span class="token function">user</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> options<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> bad <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">user</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'nope'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> options<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> good <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'yup'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="1233"><p data-reactid="1234"><a href="#22.4" data-reactid="1235"><!-- react-text: 1236 -->22.4<!-- /react-text --></a><!-- react-text: 1237 -->  不要使用下划线 <!-- /react-text --><code data-reactid="1238"><!-- react-text: 1239 -->_<!-- /react-text --></code><!-- react-text: 1240 --> 结尾或开头来命名属性和方法。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1241"><code data-reactid="1242"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>__firstName__ <span class="token operator">=</span> <span class="token string">'Panda'</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>firstName_ <span class="token operator">=</span> <span class="token string">'Panda'</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>_firstName <span class="token operator">=</span> <span class="token string">'Panda'</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> <span class="token string">'Panda'</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="1243"><p data-reactid="1244"><a href="#22.5" data-reactid="1245"><!-- react-text: 1246 -->22.5<!-- /react-text --></a><!-- react-text: 1247 -->  别保存 <!-- /react-text --><code data-reactid="1248"><!-- react-text: 1249 -->this<!-- /react-text --></code><!-- react-text: 1250 --> 的引用。使用箭头函数或 Function#bind。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1251"><code data-reactid="1252"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>that<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="1253"><p data-reactid="1254"><a href="#22.6" data-reactid="1255"><!-- react-text: 1256 -->22.6<!-- /react-text --></a><!-- react-text: 1257 -->  如果你的文件只输出一个类，那你的文件名必须和类名完全保持一致。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1258"><code data-reactid="1259"><span class="token comment" spellcheck="true">// file contents</span>
<span class="token keyword">class</span> <span class="token class-name">CheckBox</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> CheckBox<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// in some other file</span>
<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">import</span> CheckBox <span class="token keyword">from</span> <span class="token string">'./checkBox'</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">import</span> CheckBox <span class="token keyword">from</span> <span class="token string">'./check_box'</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">import</span> CheckBox <span class="token keyword">from</span> <span class="token string">'./CheckBox'</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="1260"><p data-reactid="1261"><a href="#22.7" data-reactid="1262"><!-- react-text: 1263 -->22.7<!-- /react-text --></a><!-- react-text: 1264 -->  当你导出默认的函数时使用驼峰式命名。你的文件名必须和函数名完全保持一致。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1265"><code data-reactid="1266"><span class="token keyword">function</span> <span class="token function">makeStyleGuide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> makeStyleGuide<span class="token punctuation">;</span></code></pre></li><li data-reactid="1267"><p data-reactid="1268"><a href="#22.8" data-reactid="1269"><!-- react-text: 1270 -->22.8<!-- /react-text --></a><!-- react-text: 1271 -->  当你导出单例、函数库、空对象时使用帕斯卡式命名。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1272"><code data-reactid="1273"><span class="token keyword">const</span> AirbnbStyleGuide <span class="token operator">=</span> <span class="token punctuation">{</span>
  es6<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> AirbnbStyleGuide<span class="token punctuation">;</span></code></pre></li></ul><h2 id="存取器" data-reactid="1274"><span data-reactid="1275"><!-- react-text: 1276 -->存取器<!-- /react-text --></span><a href="#存取器" class="anchor" data-reactid="1277">#</a></h2><ul data-reactid="1278"><li data-reactid="1279"><p data-reactid="1280"><a href="#23.1" data-reactid="1281"><!-- react-text: 1282 -->23.1<!-- /react-text --></a><!-- react-text: 1283 -->  属性的存取函数不是必须的。<!-- /react-text --></p></li><li data-reactid="1284"><p data-reactid="1285"><a href="#23.2" data-reactid="1286"><!-- react-text: 1287 -->23.2<!-- /react-text --></a><!-- react-text: 1288 -->  如果你需要存取函数时使用 <!-- /react-text --><code data-reactid="1289"><!-- react-text: 1290 -->getVal()<!-- /react-text --></code><!-- react-text: 1291 --> 和 <!-- /react-text --><code data-reactid="1292"><!-- react-text: 1293 -->setVal(&#x27;hello&#x27;)<!-- /react-text --></code><!-- react-text: 1294 -->。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1295"><code data-reactid="1296"><span class="token comment" spellcheck="true">// bad</span>
dragon<span class="token punctuation">.</span><span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
dragon<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
dragon<span class="token punctuation">.</span><span class="token function">age</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
dragon<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="1297"><p data-reactid="1298"><a href="#23.3" data-reactid="1299"><!-- react-text: 1300 -->23.3<!-- /react-text --></a><!-- react-text: 1301 -->  如果属性是布尔值，使用 <!-- /react-text --><code data-reactid="1302"><!-- react-text: 1303 -->isVal()<!-- /react-text --></code><!-- react-text: 1304 --> 或 <!-- /react-text --><code data-reactid="1305"><!-- react-text: 1306 -->hasVal()<!-- /react-text --></code><!-- react-text: 1307 -->。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1308"><code data-reactid="1309"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dragon<span class="token punctuation">.</span><span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dragon<span class="token punctuation">.</span><span class="token function">hasAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="1310"><p data-reactid="1311"><a href="#23.4" data-reactid="1312"><!-- react-text: 1313 -->23.4<!-- /react-text --></a><!-- react-text: 1314 -->  创建 <!-- /react-text --><code data-reactid="1315"><!-- react-text: 1316 -->get()<!-- /react-text --></code><!-- react-text: 1317 --> 和 <!-- /react-text --><code data-reactid="1318"><!-- react-text: 1319 -->set()<!-- /react-text --></code><!-- react-text: 1320 --> 函数是可以的，但要保持一致。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1321"><code data-reactid="1322"><span class="token keyword">class</span> <span class="token class-name">Jedi</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> lightsaber <span class="token operator">=</span> options<span class="token punctuation">.</span>lightsaber <span class="token operator">||</span> <span class="token string">'blue'</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'lightsaber'</span><span class="token punctuation">,</span> lightsaber<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></li></ul><h2 id="事件" data-reactid="1323"><span data-reactid="1324"><!-- react-text: 1325 -->事件<!-- /react-text --></span><a href="#事件" class="anchor" data-reactid="1326">#</a></h2><ul data-reactid="1327"><li data-reactid="1328"><p data-reactid="1329"><a href="#24.1" data-reactid="1330"><!-- react-text: 1331 -->24.1<!-- /react-text --></a><!-- react-text: 1332 -->  当给事件附加数据时（无论是 DOM 事件还是私有事件），传入一个哈希而不是原始值。这样可以让后面的贡献者增加更多数据到事件数据而无需找出并更新事件的每一个处理器。例如，不好的写法：<!-- /react-text --></p><pre class="language-javascript" data-reactid="1333"><code data-reactid="1334"><span class="token comment" spellcheck="true">// bad</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">'listingUpdated'</span><span class="token punctuation">,</span> listing<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">...</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'listingUpdated'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> listingId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// do something with listingId</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p data-reactid="1335"><!-- react-text: 1336 -->更好的写法：<!-- /react-text --></p><pre class="language-javascript" data-reactid="1337"><code data-reactid="1338"><span class="token comment" spellcheck="true">// good</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">'listingUpdated'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> listingId <span class="token punctuation">:</span> listing<span class="token punctuation">.</span>id <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">...</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'listingUpdated'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// do something with data.listingId</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><h2 id="jQuery" data-reactid="1339"><span data-reactid="1340"><!-- react-text: 1341 -->jQuery<!-- /react-text --></span><a href="#jQuery" class="anchor" data-reactid="1342">#</a></h2><ul data-reactid="1343"><li data-reactid="1344"><p data-reactid="1345"><a href="#25.1" data-reactid="1346"><!-- react-text: 1347 -->25.1<!-- /react-text --></a><!-- react-text: 1348 -->  使用 <!-- /react-text --><code data-reactid="1349"><!-- react-text: 1350 -->$<!-- /react-text --></code><!-- react-text: 1351 --> 作为存储 jQuery 对象的变量名前缀。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1352"><code data-reactid="1353"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">const</span> sidebar <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.sidebar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">const</span> $sidebar <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.sidebar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li data-reactid="1354"><p data-reactid="1355"><a href="#25.2" data-reactid="1356"><!-- react-text: 1357 -->25.2<!-- /react-text --></a><!-- react-text: 1358 -->  缓存 jQuery 查询。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1359"><code data-reactid="1360"><span class="token comment" spellcheck="true">// bad</span>
<span class="token keyword">function</span> <span class="token function">setSidebar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.sidebar'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// ...stuff...</span>

  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.sidebar'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">'background-color'</span><span class="token punctuation">:</span> <span class="token string">'pink'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token keyword">function</span> <span class="token function">setSidebar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> $sidebar <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.sidebar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  $sidebar<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// ...stuff...</span>

  $sidebar<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">'background-color'</span><span class="token punctuation">:</span> <span class="token string">'pink'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></li><li data-reactid="1361"><p data-reactid="1362"><a href="#25.3" data-reactid="1363"><!-- react-text: 1364 -->25.3<!-- /react-text --></a><!-- react-text: 1365 -->  对 DOM 查询使用层叠 <!-- /react-text --><code data-reactid="1366"><!-- react-text: 1367 -->$(&#x27;.sidebar ul&#x27;)<!-- /react-text --></code><!-- react-text: 1368 --> 或 父元素 &gt; 子元素 <!-- /react-text --><code data-reactid="1369"><!-- react-text: 1370 -->$(&#x27;.sidebar &gt; ul&#x27;)<!-- /react-text --></code><!-- react-text: 1371 -->。 <!-- /react-text --><a href="http://jsperf.com/jquery-find-vs-context-sel/16" data-reactid="1372">jsPerf</a></p></li><li data-reactid="1373"><p data-reactid="1374"><a href="#25.4" data-reactid="1375"><!-- react-text: 1376 -->25.4<!-- /react-text --></a><!-- react-text: 1377 -->  对有作用域的 jQuery 对象查询使用 <!-- /react-text --><code data-reactid="1378"><!-- react-text: 1379 -->find<!-- /react-text --></code><!-- react-text: 1380 -->。<!-- /react-text --></p><pre class="language-javascript" data-reactid="1381"><code data-reactid="1382"><span class="token comment" spellcheck="true">// bad</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">,</span> <span class="token string">'.sidebar'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// bad</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.sidebar'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.sidebar ul'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.sidebar > ul'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// good</span>
$sidebar<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><h2 id="ECMAScript-5-兼容性" data-reactid="1383"><span data-reactid="1384"><!-- react-text: 1385 -->ECMAScript 5 兼容性<!-- /react-text --></span><a href="#ECMAScript-5-兼容性" class="anchor" data-reactid="1386">#</a></h2><ul data-reactid="1387"><li data-reactid="1388"><p data-reactid="1389"><a href="#26.1" data-reactid="1390"><!-- react-text: 1391 -->26.1<!-- /react-text --></a><!-- react-text: 1392 -->  参考 <!-- /react-text --><a href="https://twitter.com/kangax/" data-reactid="1393">Kangax</a><!-- react-text: 1394 --> 的 ES5 <!-- /react-text --><a href="http://kangax.github.com/es5-compat-table/" data-reactid="1395">兼容性</a><!-- react-text: 1396 -->。<!-- /react-text --></p></li></ul><h2 id="ECMAScript-6-规范" data-reactid="1397"><span data-reactid="1398"><!-- react-text: 1399 -->ECMAScript 6 规范<!-- /react-text --></span><a href="#ECMAScript-6-规范" class="anchor" data-reactid="1400">#</a></h2><ul data-reactid="1401"><li data-reactid="1402"><p data-reactid="1403"><a href="#27.1" data-reactid="1404"><!-- react-text: 1405 -->27.1<!-- /react-text --></a><!-- react-text: 1406 -->  以下是链接到 ES6 各个特性的列表。<!-- /react-text --></p></li><li data-reactid="1407"><p data-reactid="1408"><a href="#arrow-functions" data-reactid="1409"><!-- react-text: 1410 -->箭头函数<!-- /react-text --></a></p></li><li data-reactid="1411"><p data-reactid="1412"><a href="#constructors" data-reactid="1413"><!-- react-text: 1414 -->类<!-- /react-text --></a></p></li><li data-reactid="1415"><p data-reactid="1416"><a href="#es6-object-shorthand" data-reactid="1417"><!-- react-text: 1418 -->对象方法简写<!-- /react-text --></a></p></li><li data-reactid="1419"><p data-reactid="1420"><a href="#es6-object-concise" data-reactid="1421"><!-- react-text: 1422 -->对象属性简写<!-- /react-text --></a></p></li><li data-reactid="1423"><p data-reactid="1424"><a href="#es6-computed-properties" data-reactid="1425"><!-- react-text: 1426 -->对象中的可计算属性<!-- /react-text --></a></p></li><li data-reactid="1427"><p data-reactid="1428"><a href="#es6-template-literals" data-reactid="1429"><!-- react-text: 1430 -->模板字符串<!-- /react-text --></a></p></li><li data-reactid="1431"><p data-reactid="1432"><a href="#destructuring" data-reactid="1433"><!-- react-text: 1434 -->解构<!-- /react-text --></a></p></li><li data-reactid="1435"><p data-reactid="1436"><a href="#es6-default-parameters" data-reactid="1437"><!-- react-text: 1438 -->默认参数<!-- /react-text --></a></p></li><li data-reactid="1439"><p data-reactid="1440"><a href="#es6-rest" data-reactid="1441"><!-- react-text: 1442 -->Rest<!-- /react-text --></a></p></li><li data-reactid="1443"><p data-reactid="1444"><a href="#es6-array-spreads" data-reactid="1445"><!-- react-text: 1446 -->数组 Spreads<!-- /react-text --></a></p></li><li data-reactid="1447"><p data-reactid="1448"><a href="#references" data-reactid="1449"><!-- react-text: 1450 -->Let 及 Const<!-- /react-text --></a></p></li><li data-reactid="1451"><p data-reactid="1452"><a href="#iterators-and-generators" data-reactid="1453"><!-- react-text: 1454 -->迭代器和生成器<!-- /react-text --></a></p></li><li data-reactid="1455"><p data-reactid="1456"><a href="#modules" data-reactid="1457"><!-- react-text: 1458 -->模块<!-- /react-text --></a></p></li></ul><h2 id="测试" data-reactid="1459"><span data-reactid="1460"><!-- react-text: 1461 -->测试<!-- /react-text --></span><a href="#测试" class="anchor" data-reactid="1462">#</a></h2><ul data-reactid="1463"><li data-reactid="1464"><p data-reactid="1465"><!-- react-text: 1466 -->无论使用哪个测试框架，你都应该编写测试<!-- /react-text --></p></li><li data-reactid="1467"><p data-reactid="1468"><!-- react-text: 1469 -->尽量写小而纯的function，并最小化其引起变化的范围。<!-- /react-text --></p></li><li data-reactid="1470"><p data-reactid="1471"><!-- react-text: 1472 -->谨慎使用stubs和mocks，它们会使得你的测试变得不可靠。<!-- /react-text --></p></li><li data-reactid="1473"><p data-reactid="1474"><!-- react-text: 1475 -->我们主要使用<!-- /react-text --><a href="https://www.npmjs.com/package/mocha" data-reactid="1476"><code data-reactid="1477"><!-- react-text: 1478 -->mocha<!-- /react-text --></code></a><!-- react-text: 1479 -->来测试，<!-- /react-text --><a href="https://www.npmjs.com/package/tape" data-reactid="1480"><code data-reactid="1481"><!-- react-text: 1482 -->tape<!-- /react-text --></code></a><!-- react-text: 1483 --> 在独立的小模块中也经常用到。<!-- /react-text --></p></li><li data-reactid="1484"><p data-reactid="1485"><!-- react-text: 1486 -->尽力地实现100％的测试覆盖率。<!-- /react-text --></p></li><li data-reactid="1487"><p data-reactid="1488"><!-- react-text: 1489 -->当你修复bug时，记住要写回归测试，否则未来还是会出问题。<!-- /react-text --></p></li></ul><h2 id="性能" data-reactid="1490"><span data-reactid="1491"><!-- react-text: 1492 -->性能<!-- /react-text --></span><a href="#性能" class="anchor" data-reactid="1493">#</a></h2><ul data-reactid="1494"><li data-reactid="1495"><p data-reactid="1496"><a href="http://kellegous.com/j/2013/01/26/layout-performance/" data-reactid="1497">On Layout &amp; Web Performance</a></p></li><li data-reactid="1498"><p data-reactid="1499"><a href="http://jsperf.com/string-vs-array-concat/2" data-reactid="1500">String vs Array Concat</a></p></li><li data-reactid="1501"><p data-reactid="1502"><a href="http://jsperf.com/try-catch-in-loop-cost" data-reactid="1503">Try/Catch Cost In a Loop</a></p></li><li data-reactid="1504"><p data-reactid="1505"><a href="http://jsperf.com/bang-function" data-reactid="1506">Bang Function</a></p></li><li data-reactid="1507"><p data-reactid="1508"><a href="http://jsperf.com/jquery-find-vs-context-sel/13" data-reactid="1509">jQuery Find vs Context, Selector</a></p></li><li data-reactid="1510"><p data-reactid="1511"><a href="http://jsperf.com/innerhtml-vs-textcontent-for-script-text" data-reactid="1512">innerHTML vs textContent for script text</a></p></li><li data-reactid="1513"><p data-reactid="1514"><a href="http://jsperf.com/ya-string-concat" data-reactid="1515">Long String Concatenation</a></p></li><li data-reactid="1516"><p data-reactid="1517"><a href="https://www.quora.com/JavaScript-programming-language-Are-Javascript-functions-like-map-reduce-and-filter-already-optimized-for-traversing-array/answer/Quildreen-Motta" data-reactid="1518">Are Javascript functions like </a></p></li><li data-reactid="1519"><p data-reactid="1520"><!-- react-text: 1521 -->等等...<!-- /react-text --></p></li></ul><h2 id="相关资源（英文）" data-reactid="1522"><span data-reactid="1523"><!-- react-text: 1524 -->相关资源（英文）<!-- /react-text --></span><a href="#相关资源（英文）" class="anchor" data-reactid="1525">#</a></h2><p data-reactid="1526"><strong data-reactid="1527"><!-- react-text: 1528 -->了解 ES6<!-- /react-text --></strong></p><ul data-reactid="1529"><li data-reactid="1530"><p data-reactid="1531"><a href="https://people.mozilla.org/~jorendorff/es6-draft.html" data-reactid="1532">ECMA 2015 (ES6) 规范草案</a></p></li><li data-reactid="1533"><p data-reactid="1534"><a href="http://exploringjs.com/" data-reactid="1535">ExploringJS</a></p></li><li data-reactid="1536"><p data-reactid="1537"><a href="https://kangax.github.io/compat-table/es6/" data-reactid="1538">ES6 兼容性表</a></p></li><li data-reactid="1539"><p data-reactid="1540"><a href="http://es6-features.org/" data-reactid="1541">ES6 特性全面概况</a></p></li></ul><p data-reactid="1542"><strong data-reactid="1543"><!-- react-text: 1544 -->看看这个<!-- /react-text --></strong></p><ul data-reactid="1545"><li data-reactid="1546"><p data-reactid="1547"><a href="http://es5.github.com/" data-reactid="1548">Annotated ECMAScript 5.1</a></p></li></ul><p data-reactid="1549"><strong data-reactid="1550"><!-- react-text: 1551 -->工具<!-- /react-text --></strong></p><ul data-reactid="1552"><li data-reactid="1553"><p data-reactid="1554"><!-- react-text: 1555 -->代码风格检查器（Lint）<!-- /react-text --></p><ul data-reactid="1556"><li data-reactid="1557"><p data-reactid="1558"><a href="http://eslint.org/" data-reactid="1559">ESlint</a><!-- react-text: 1560 --> - <!-- /react-text --><a href="https://github.com/airbnb/javascript/blob/master/linters/.eslintrc" data-reactid="1561">Airbnb Style .eslintrc</a></p></li><li data-reactid="1562"><p data-reactid="1563"><a href="http://www.jshint.com/" data-reactid="1564">JSHint</a><!-- react-text: 1565 --> - <!-- /react-text --><a href="https://github.com/airbnb/javascript/blob/master/linters/jshintrc" data-reactid="1566">Airbnb Style .jshintrc</a></p></li><li data-reactid="1567"><p data-reactid="1568"><a href="https://github.com/jscs-dev/node-jscs" data-reactid="1569">JSCS</a><!-- react-text: 1570 --> - <!-- /react-text --><a href="https://github.com/jscs-dev/node-jscs/blob/master/presets/airbnb.json" data-reactid="1571">Airbnb Style Preset</a></p></li></ul></li></ul><p data-reactid="1572"><!-- react-text: 1573 -->参考：<!-- /react-text --><a href="https://github.com/airbnb/javascript#testing" data-reactid="1574">https://github.com/airbnb/javascript#testing</a></p></section><section class="markdown api-container" data-reactid="1575"></section></article></div><div class="ant-col-3 ant-col-offset-1" data-reactid="1576"><div data-reactid="1577"><div class="" data-reactid="1578"><div class="ant-anchor-wrapper toc-anchor" data-reactid="1579"><div class="ant-anchor" data-reactid="1580"><div class="ant-anchor-ink" data-reactid="1581"><span class="ant-anchor-ink-ball animated" data-reactid="1582"></span></div><div class="ant-anchor-link" data-reactid="1583"><a class="ant-anchor-link-title" href="#类型" title="类型" data-reactid="1584">类型</a></div><div class="ant-anchor-link" data-reactid="1585"><a class="ant-anchor-link-title" href="#引用" title="引用" data-reactid="1586">引用</a></div><div class="ant-anchor-link" data-reactid="1587"><a class="ant-anchor-link-title" href="#对象" title="对象" data-reactid="1588">对象</a></div><div class="ant-anchor-link" data-reactid="1589"><a class="ant-anchor-link-title" href="#数组" title="数组" data-reactid="1590">数组</a></div><div class="ant-anchor-link" data-reactid="1591"><a class="ant-anchor-link-title" href="#解构" title="解构" data-reactid="1592">解构</a></div><div class="ant-anchor-link" data-reactid="1593"><a class="ant-anchor-link-title" href="#Strings" title="Strings" data-reactid="1594">Strings</a></div><div class="ant-anchor-link" data-reactid="1595"><a class="ant-anchor-link-title" href="#函数" title="函数" data-reactid="1596">函数</a></div><div class="ant-anchor-link" data-reactid="1597"><a class="ant-anchor-link-title" href="#箭头函数" title="箭头函数" data-reactid="1598">箭头函数</a></div><div class="ant-anchor-link" data-reactid="1599"><a class="ant-anchor-link-title" href="#构造器" title="构造器" data-reactid="1600">构造器</a></div><div class="ant-anchor-link" data-reactid="1601"><a class="ant-anchor-link-title" href="#模块" title="模块" data-reactid="1602">模块</a></div><div class="ant-anchor-link" data-reactid="1603"><a class="ant-anchor-link-title" href="#Iterators-and-Generators" title="Iterators and Generators" data-reactid="1604">Iterators and Generators</a></div><div class="ant-anchor-link" data-reactid="1605"><a class="ant-anchor-link-title" href="#属性" title="属性" data-reactid="1606">属性</a></div><div class="ant-anchor-link" data-reactid="1607"><a class="ant-anchor-link-title" href="#变量" title="变量" data-reactid="1608">变量</a></div><div class="ant-anchor-link" data-reactid="1609"><a class="ant-anchor-link-title" href="#Hoisting" title="Hoisting" data-reactid="1610">Hoisting</a></div><div class="ant-anchor-link" data-reactid="1611"><a class="ant-anchor-link-title" href="#比较运算符和等号" title="比较运算符和等号" data-reactid="1612">比较运算符和等号</a></div><div class="ant-anchor-link" data-reactid="1613"><a class="ant-anchor-link-title" href="#代码块" title="代码块" data-reactid="1614">代码块</a></div><div class="ant-anchor-link" data-reactid="1615"><a class="ant-anchor-link-title" href="#注释" title="注释" data-reactid="1616">注释</a></div><div class="ant-anchor-link" data-reactid="1617"><a class="ant-anchor-link-title" href="#空白" title="空白" data-reactid="1618">空白</a></div><div class="ant-anchor-link" data-reactid="1619"><a class="ant-anchor-link-title" href="#逗号" title="逗号" data-reactid="1620">逗号</a></div><div class="ant-anchor-link" data-reactid="1621"><a class="ant-anchor-link-title" href="#分号" title="分号" data-reactid="1622">分号</a></div><div class="ant-anchor-link" data-reactid="1623"><a class="ant-anchor-link-title" href="#类型转换" title="类型转换" data-reactid="1624">类型转换</a></div><div class="ant-anchor-link" data-reactid="1625"><a class="ant-anchor-link-title" href="#命名规则" title="命名规则" data-reactid="1626">命名规则</a></div><div class="ant-anchor-link" data-reactid="1627"><a class="ant-anchor-link-title" href="#存取器" title="存取器" data-reactid="1628">存取器</a></div><div class="ant-anchor-link" data-reactid="1629"><a class="ant-anchor-link-title" href="#事件" title="事件" data-reactid="1630">事件</a></div><div class="ant-anchor-link" data-reactid="1631"><a class="ant-anchor-link-title" href="#jQuery" title="jQuery" data-reactid="1632">jQuery</a></div><div class="ant-anchor-link" data-reactid="1633"><a class="ant-anchor-link-title" href="#ECMAScript-5-兼容性" title="ECMAScript 5 兼容性" data-reactid="1634">ECMAScript 5 兼容性</a></div><div class="ant-anchor-link" data-reactid="1635"><a class="ant-anchor-link-title" href="#ECMAScript-6-规范" title="ECMAScript 6 规范" data-reactid="1636">ECMAScript 6 规范</a></div><div class="ant-anchor-link" data-reactid="1637"><a class="ant-anchor-link-title" href="#测试" title="测试" data-reactid="1638">测试</a></div><div class="ant-anchor-link" data-reactid="1639"><a class="ant-anchor-link-title" href="#性能" title="性能" data-reactid="1640">性能</a></div><div class="ant-anchor-link" data-reactid="1641"><a class="ant-anchor-link-title" href="#相关资源（英文）" title="相关资源（英文）" data-reactid="1642">相关资源（英文）</a></div></div></div></div></div></div></div></div></div><div class="ant-row" data-reactid="1643"><div class="ant-col-xs-24 ant-col-sm-24 ant-col-md-18 ant-col-md-offset-6 ant-col-lg-20 ant-col-lg-offset-4" data-reactid="1644"><section class="prev-next-nav" data-reactid="1645"><a class="prev-page" href="/docs/spec/20-reactstyleguide" data-reactid="1646">React/JSX Style Guide</a><a class="next-page" href="/docs/spec/c00-test2" data-reactid="1647">dddd2333</a></section></div></div></div><footer id="footer" data-reactid="1648"><ul data-reactid="1649"><li data-reactid="1650"><h2 data-reactid="1651"><i class="anticon anticon-github" data-reactid="1652"></i><!-- react-text: 1653 --> 高伟达Git私服<!-- /react-text --></h2><div data-reactid="1654"><a target="_blank " href="http://27.154.58.94:32445/xiamen-lab/app-design" data-reactid="1655"><span data-reactid="1656">Repository</span></a></div><div data-reactid="1657"><a target="_blank " href="mailto:tangyuanzhao@git.com.cn?subject=申请注册git私服用户&amp;body=姓名：%0D%0A部门：%0D%0A电话：%0D%0A" data-reactid="1658"><span data-reactid="1659">Apply for registered git users</span></a></div></li><li data-reactid="1660"><h2 data-reactid="1661"><i class="anticon anticon-link" data-reactid="1662"></i><!-- react-text: 1663 --> <!-- /react-text --><span data-reactid="1664">Links</span></h2><div data-reactid="1665"><a href="http://www.git.com.cn/" data-reactid="1666"><span data-reactid="1667">Ant Financial Design Platform</span></a></div></li><li data-reactid="1668"><h2 data-reactid="1669"><i class="anticon anticon-customer-service" data-reactid="1670"></i><!-- react-text: 1671 --> <!-- /react-text --><span data-reactid="1672">Community</span></h2><div data-reactid="1673"><a href="/changelog-cn" data-reactid="1674"><span data-reactid="1675">Change Log</span></a></div><div data-reactid="1676"><a target="_blank" rel="noopener noreferrer" href="http://27.154.58.94:32445/xiamen-lab/app-design/wiki/FAQ" data-reactid="1677"><span data-reactid="1678">FAQ</span></a></div><div data-reactid="1679"><a target="_blank" rel="noopener noreferrer" href="https://gitter.im/app-design/app-design" data-reactid="1680"><span data-reactid="1681">Chat Room (中文)</span></a></div><div data-reactid="1682"><a target="_blank" rel="noopener noreferrer" href="http://27.154.58.94:32445/xiamen-lab/app-design/issues/new/" data-reactid="1683"><span data-reactid="1684">Bug Report</span></a></div><div data-reactid="1685"><a target="_blank" rel="noopener noreferrer" href="http://27.154.58.94:32445/xiamen-lab/app-design/issues" data-reactid="1686"><span data-reactid="1687">Issues</span></a></div><div data-reactid="1688"><a target="_blank" rel="noopener noreferrer" href="http://stackoverflow.com/questions/tagged/appdesign" data-reactid="1689"><span data-reactid="1690">StackOverflow</span></a></div><div data-reactid="1691"><a target="_blank" rel="noopener noreferrer" href="https://segmentfault.com/t/appdesign" data-reactid="1692"><span data-reactid="1693">SegmentFault</span></a></div></li><li data-reactid="1694"><h2 data-reactid="1695"><!-- react-text: 1696 -->Copyright © <!-- /react-text --><!-- react-text: 1697 -->2017<!-- /react-text --></h2><div data-reactid="1698"><span data-reactid="1699">Created by AIUX</span></div></li></ul></footer></div>
    </div>
    <script src="/common.js"></script>
    <script src="/index.js"></script>
  </body>
</html>
